(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[628],{79742:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),i=t[0],n=t[1];return(i+n)*3/4-n},t.toByteArray=function(e){var t,i,s=l(e),o=s[0],a=s[1],u=new r((o+a)*3/4-a),c=0,d=a>0?o-4:o;for(i=0;i<d;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===a&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,u[c++]=255&t),1===a&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,s=[],o=0,a=n-r;o<a;o+=16383)s.push(function(e,t,n){for(var r,s=[],o=t;o<n;o+=3)s.push(i[(r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return s.join("")}(e,o,o+16383>a?a:o+16383));return 1===r?s.push(i[(t=e[n-1])>>2]+i[t<<4&63]+"=="):2===r&&s.push(i[(t=(e[n-2]<<8)+e[n-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),s.join("")};for(var i=[],n=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)i[o]=s[o],n[s.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");-1===i&&(i=t);var n=i===t?0:4-i%4;return[i,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},48764:function(e,t,i){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var n=i(79742),r=i(80645),s=i(5826);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(o()<t)throw RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,i);if("number"==typeof e){if("string"==typeof t)throw Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,i)}function u(e,t,i,n){if("number"==typeof t)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw RangeError("'length' is out of bounds");return t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=g(e,t),e}(e,t,i,n):"string"==typeof t?function(e,t,i){if(("string"!=typeof i||""===i)&&(i="utf8"),!l.isEncoding(i))throw TypeError('"encoding" must be a valid string encoding');var n=0|_(t,i),r=(e=a(e,n)).write(t,i);return r!==n&&(e=e.slice(0,r)),e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i,n=0|h(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?a(e,0):g(e,t);if("Buffer"===t.type&&s(t.data))return g(e,t.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be a number');if(e<0)throw RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=a(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function g(e,t){var i=t.length<0?0:0|h(t.length);e=a(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=o())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function _(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return O(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return P(e).length;default:if(n)return O(e).length;t=(""+t).toLowerCase(),n=!0}}function f(e,t,i){var r,s,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0||(i>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,i){var n,r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var s="",o=t;o<i;++o)s+=(n=e[o])<16?"0"+n.toString(16):n.toString(16);return s}(this,t,i);case"utf8":case"utf-8":return y(this,t,i);case"ascii":return function(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}(this,t,i);case"latin1":case"binary":return function(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}(this,t,i);case"base64":return r=t,s=i,0===r&&s===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(r,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,i){for(var n=e.slice(t,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}(this,t,i);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function p(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function v(e,t,i,n,r){if(0===e.length)return -1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),isNaN(i=+i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return -1;i=e.length-1}else if(i<0){if(!r)return -1;i=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:m(e,t,i,n,r);if("number"==typeof t)return(t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf)?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):m(e,[t],i,n,r);throw TypeError("val must be string, number or Buffer")}function m(e,t,i,n,r){var s,o=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,a/=2,l/=2,i/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var c=-1;for(s=i;s<a;s++)if(u(e,s)===u(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*o}else -1!==c&&(s-=s-c),c=-1}else for(i+l>a&&(i=a-l),s=i;s>=0;s--){for(var d=!0,g=0;g<l;g++)if(u(e,s+g)!==u(t,g)){d=!1;break}if(d)return s}return -1}function y(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var s,o,a,l,u=e[r],c=null,d=u>239?4:u>223?3:u>191?2:1;if(r+d<=i)switch(d){case 1:u<128&&(c=u);break;case 2:(192&(s=e[r+1]))==128&&(l=(31&u)<<6|63&s)>127&&(c=l);break;case 3:s=e[r+1],o=e[r+2],(192&s)==128&&(192&o)==128&&(l=(15&u)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=e[r+1],o=e[r+2],a=e[r+3],(192&s)==128&&(192&o)==128&&(192&a)==128&&(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),r+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return i}(n)}function b(e,t,i){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>i)throw RangeError("Trying to access beyond buffer length")}function S(e,t,i,n,r,s){if(!l.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<s)throw RangeError('"value" argument is out of bounds');if(i+n>e.length)throw RangeError("Index out of range")}function E(e,t,i,n){t<0&&(t=65535+t+1);for(var r=0,s=Math.min(e.length-i,2);r<s;++r)e[i+r]=(t&255<<8*(n?r:1-r))>>>(n?r:1-r)*8}function C(e,t,i,n){t<0&&(t=4294967295+t+1);for(var r=0,s=Math.min(e.length-i,4);r<s;++r)e[i+r]=t>>>(n?r:3-r)*8&255}function w(e,t,i,n,r,s){if(i+n>e.length||i<0)throw RangeError("Index out of range")}function k(e,t,i,n,s){return s||w(e,t,i,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,i,n,23,4),i+4}function T(e,t,i,n,s){return s||w(e,t,i,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,i,n,52,8),i+8}t.lW=l,t.h2=50,l.TYPED_ARRAY_SUPPORT=void 0!==i.g.TYPED_ARRAY_SUPPORT?i.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return u(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return(c(e),e<=0)?a(null,e):void 0!==t?"string"==typeof i?a(null,e).fill(t,i):a(null,e).fill(t):a(null,e)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!!(null!=e&&e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,r=0,s=Math.min(i,n);r<s;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!s(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);if(void 0===t)for(i=0,t=0;i<e.length;++i)t+=e[i].length;var i,n=l.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var o=e[i];if(!l.isBuffer(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},l.byteLength=_,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0==arguments.length?y(this,0,e):f.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.h2;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,n,r){if(!l.isBuffer(e))throw TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return -1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var s=r-n,o=i-t,a=Math.min(s,o),u=this.slice(n,r),c=e.slice(t,i),d=0;d<a;++d)if(u[d]!==c[d]){s=u[d],o=c[d];break}return s<o?-1:o<s?1:0},l.prototype.includes=function(e,t,i){return -1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return v(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return v(this,e,t,i,!1)},l.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else if(isFinite(t))t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var r,s,o,a,l,u,c,d,g,h,_,f,p=this.length-t;if((void 0===i||i>p)&&(i=p),e.length>0&&(i<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var v=!1;;)switch(n){case"hex":return function(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?(n=Number(n))>r&&(n=r):n=r;var s=t.length;if(s%2!=0)throw TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))break;e[i+o]=a}return o}(this,e,t,i);case"utf8":case"utf-8":return l=t,u=i,A(O(e,this.length-l),this,l,u);case"ascii":return c=t,d=i,A(I(e),this,c,d);case"latin1":case"binary":return r=this,s=e,o=t,a=i,A(I(s),r,o,a);case"base64":return g=t,h=i,A(P(e),this,g,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _=t,f=i,A(function(e,t){for(var i,n,r=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(i=e.charCodeAt(s))>>8,r.push(i%256),r.push(n);return r}(e,this.length-_),this,_,f);default:if(v)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),v=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var i,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;i=new l(r,void 0);for(var s=0;s<r;++s)i[s]=this[s+e]}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||b(e,t,this.length);for(var n=this[e],r=1,s=0;++s<t&&(r*=256);)n+=this[e+s]*r;return n},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||b(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},l.prototype.readUInt8=function(e,t){return t||b(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||b(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||b(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||b(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||b(e,t,this.length);for(var n=this[e],r=1,s=0;++s<t&&(r*=256);)n+=this[e+s]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||b(e,t,this.length);for(var n=t,r=1,s=this[e+--n];n>0&&(r*=256);)s+=this[e+--n]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return(t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},l.prototype.readInt16LE=function(e,t){t||b(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||b(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||b(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||b(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||b(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||b(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;S(this,e,t,i,r,0)}var s=1,o=0;for(this[t]=255&e;++o<i&&(s*=256);)this[t+o]=e/s&255;return t+i},l.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;S(this,e,t,i,r,0)}var s=i-1,o=1;for(this[t+s]=255&e;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||S(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||S(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):E(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||S(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):E(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||S(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):C(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||S(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);S(this,e,t,i,r-1,-r)}var s=0,o=1,a=0;for(this[t]=255&e;++s<i&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i},l.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);S(this,e,t,i,r-1,-r)}var s=i-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||S(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||S(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):E(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||S(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):E(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||S(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):C(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||S(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return k(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return k(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return T(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return T(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw RangeError("sourceStart out of bounds");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r,s=n-i;if(this===e&&i<t&&t<n)for(r=s-1;r>=0;--r)e[r+t]=this[r+i];else if(s<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)e[r+t]=this[r+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+s),t);return s},l.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var r,s=e.charCodeAt(0);s<256&&(e=s)}if(void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw RangeError("Out of range index");if(i<=t)return this;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(r=t;r<i;++r)this[r]=e;else{var o=l.isBuffer(e)?e:O(new l(e,n).toString()),a=o.length;for(r=0;r<i-t;++r)this[r+t]=o[r%a]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function O(e,t){t=t||1/0;for(var i,n=e.length,r=null,s=[],o=0;o<n;++o){if((i=e.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319||o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&s.push(239,191,189),r=i;continue}i=(r-55296<<10|i-56320)+65536}else r&&(t-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;s.push(i)}else if(i<2048){if((t-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else if(i<1114112){if((t-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else throw Error("Invalid code point")}return s}function I(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function P(e){return n.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function A(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length)&&!(r>=e.length);++r)t[r+i]=e[r];return r}},80645:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,i,n,r){var s,o,a=8*r-n-1,l=(1<<a)-1,u=l>>1,c=-7,d=i?r-1:0,g=i?-1:1,h=e[t+d];for(d+=g,s=h&(1<<-c)-1,h>>=-c,c+=a;c>0;s=256*s+e[t+d],d+=g,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+e[t+d],d+=g,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:(h?-1:1)*(1/0);o+=Math.pow(2,n),s-=u}return(h?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,i,n,r,s){var o,a,l,u=8*s-r-1,c=(1<<u)-1,d=c>>1,g=23===r?5960464477539062e-23:0,h=n?0:s-1,_=n?1:-1,f=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=g/l:t+=g*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=c?(a=0,o=c):o+d>=1?(a=(t*l-1)*Math.pow(2,r),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;e[i+h]=255&a,h+=_,a/=256,r-=8);for(o=o<<r|a,u+=r;u>0;e[i+h]=255&o,h+=_,o/=256,u-=8);e[i+h-_]|=128*f}},5826:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},34155:function(e){var t,i,n,r=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(i){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(n){i=o}}();var l=[],u=!1,c=-1;function d(){u&&n&&(u=!1,n.length?l=n.concat(l):c=-1,l.length&&g())}function g(){if(!u){var e=a(d);u=!0;for(var t=l.length;t;){for(n=l,l=[];++c<t;)n&&n[c].run();c=-1,t=l.length}n=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(n){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function _(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];l.push(new h(e,t)),1!==l.length||u||a(g)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}},375:function(e,t,i){"use strict";var n,r,s;Object.defineProperty(t,"__esModule",{value:!0}),t._getInstance=t._getStatsigGlobalFlag=t._getStatsigGlobal=void 0;let o=i(99025),a=()=>{try{return"undefined"!=typeof __STATSIG__?__STATSIG__:_}catch(e){return _}};t._getStatsigGlobal=a;let l=e=>(0,t._getStatsigGlobal)()[e];t._getStatsigGlobalFlag=l;let u=e=>{let i=(0,t._getStatsigGlobal)();return e?i.instances&&i.instances[e]:(i.instances&&Object.keys(i.instances).length>1&&o.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),i.firstInstance)};t._getInstance=u;let c="__STATSIG__",d="undefined"!=typeof window?window:{},g=void 0!==i.g?i.g:{},h="undefined"!=typeof globalThis?globalThis:{},_=null!==(s=null!==(r=null!==(n=d[c])&&void 0!==n?n:g[c])&&void 0!==r?r:h[c])&&void 0!==s?s:{instance:t._getInstance};d[c]=_,g[c]=_,h[c]=_},61867:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getStorageKey=t._getUserStorageKey=void 0;let n=i(56152);function r(e,t,i){var r;if(i)return i(e,t);let s=t&&t.customIDs?t.customIDs:{},o=[`uid:${null!==(r=null==t?void 0:t.userID)&&void 0!==r?r:""}`,`cids:${Object.keys(s).sort((e,t)=>e.localeCompare(t)).map(e=>`${e}-${s[e]}`).join(",")}`,`k:${e}`];return(0,n._DJB2)(o.join("|"))}t._getUserStorageKey=r,t._getStorageKey=function(e,t,i){return t?r(e,t,i):(0,n._DJB2)(`k:${e}`)}},394:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},53183:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t._makeDataAdapterResult=t.DataAdapterCore=void 0;let r=i(99025),s=i(33463),o=i(89063),a=i(38614),l=i(53111);function u(e,t,i,n){return{source:e,data:t,receivedAt:Date.now(),stableID:i,fullUserHash:(0,o._getFullUserHash)(n)}}t.DataAdapterCore=class{constructor(e,t){this._adapterName=e,this._cacheSuffix=t,this._options=null,this._sdkKey=null,this._cacheLimit=10,this._lastModifiedStoreKey=`statsig.last_modified_time.${t}`,this._inMemoryCache=new c}attach(e,t,i){this._sdkKey=e,this._options=t}getDataSync(e){let t=e&&(0,o._normalizeUser)(e,this._options),i=this._getCacheKey(t),n=this._inMemoryCache.get(i,t);if(n&&this._getIsCacheValueValid(n))return n;let r=this._loadFromCache(i);return r&&this._getIsCacheValueValid(r)?(this._inMemoryCache.add(i,r,this._cacheLimit),this._inMemoryCache.get(i,t)):null}setData(e,t){let i=t&&(0,o._normalizeUser)(t,this._options),n=this._getCacheKey(i);this._inMemoryCache.add(n,u("Bootstrap",e,null,i),this._cacheLimit)}_getIsCacheValueValid(e){return null==e.stableID||e.stableID===s.StableID.get(this._getSdkKey())}_getDataAsyncImpl(e,t,i){return n(this,void 0,void 0,function*(){a.Storage.isReady()||(yield a.Storage.isReadyResolver());let n=null!=e?e:this.getDataSync(t),s=[this._fetchAndPrepFromNetwork(n,t,i)];return(null==i?void 0:i.timeoutMs)&&s.push(new Promise(e=>setTimeout(e,i.timeoutMs)).then(()=>(r.Log.debug("Fetching latest value timed out"),null))),yield Promise.race(s)})}_prefetchDataImpl(e,t){return n(this,void 0,void 0,function*(){let i=e&&(0,o._normalizeUser)(e,this._options),n=this._getCacheKey(i),r=yield this._getDataAsyncImpl(null,i,t);r&&this._inMemoryCache.add(n,Object.assign(Object.assign({},r),{source:"Prefetch"}),this._cacheLimit)})}_fetchAndPrepFromNetwork(e,t,i){return n(this,void 0,void 0,function*(){var n;let o=null!==(n=null==e?void 0:e.data)&&void 0!==n?n:null,a=null!=e&&this._isCachedResultValidFor204(e,t),c=yield this._fetchFromNetwork(o,t,i,a);if(!c)return r.Log.debug("No response returned for latest value"),null;let d=(0,l._typedJsonParse)(c,"has_updates","Response"),g=this._getSdkKey(),h=s.StableID.get(g),_=null;if((null==d?void 0:d.has_updates)===!0)_=u("Network",c,h,t);else{if(!o||(null==d?void 0:d.has_updates)!==!1)return null;_=u("NetworkNotModified",o,h,t)}let f=this._getCacheKey(t);return this._inMemoryCache.add(f,_,this._cacheLimit),this._writeToCache(f,_),_})}_getSdkKey(){return null!=this._sdkKey?this._sdkKey:(r.Log.error(`${this._adapterName} is not attached to a Client`),"")}_loadFromCache(e){var t;let i=null===(t=a.Storage.getItem)||void 0===t?void 0:t.call(a.Storage,e);if(null==i)return null;let n=(0,l._typedJsonParse)(i,"source","Cached Result");return n?Object.assign(Object.assign({},n),{source:"Cache"}):null}_writeToCache(e,t){let i=JSON.stringify(t);for(let n=0;n<8;n++)try{a.Storage.setItem(e,i);break}catch(r){if(!(r instanceof Error)||"QuotaExceededError"!==r.name||this._cacheLimit<=1)throw r;this._cacheLimit=Math.ceil(this._cacheLimit/2),this._runLocalStorageCacheEviction(e,this._cacheLimit-1)}this._runLocalStorageCacheEviction(e)}_runLocalStorageCacheEviction(e,t=this._cacheLimit){var i;let n=null!==(i=(0,a._getObjectFromStorage)(this._lastModifiedStoreKey))&&void 0!==i?i:{};n[e]=Date.now();let r=d(n,t);for(let s of r)delete n[s],a.Storage.removeItem(s);(0,a._setObjectInStorage)(this._lastModifiedStoreKey,n)}},t._makeDataAdapterResult=u;class c{constructor(){this._data={}}get(e,t){var i;let n=this._data[e],s=null==n?void 0:n.stableID,o=null===(i=null==t?void 0:t.customIDs)||void 0===i?void 0:i.stableID;return o&&s&&o!==s?(r.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):n}add(e,t,i){let n=d(this._data,i-1);for(let r of n)delete this._data[r];this._data[e]=t}merge(e){this._data=Object.assign(Object.assign({},this._data),e)}}function d(e,t){let i=Object.keys(e);return i.length<=t?[]:0===t?i:i.sort((t,i)=>{let n=e[t],r=e[i];return"object"==typeof n&&"object"==typeof r?n.receivedAt-r.receivedAt:n-r}).slice(0,i.length-t)}},60642:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Diagnostics=void 0;let i=new Map,n="start";function r(e,t,i,n){return Object.assign({key:i,action:t,step:n,timestamp:Date.now()},e)}function s(e,t){var n;let r=null!==(n=i.get(e))&&void 0!==n?n:[];r.push(t),i.set(e,r)}function o(e,t){if(t in e)return e[t]}t.Diagnostics={_getMarkers:e=>i.get(e),_markInitOverallStart:e=>{s(e,r({},n,"overall"))},_markInitOverallEnd:(e,t,i)=>{s(e,r({success:t,error:t?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:i},"end","overall"))},_markInitNetworkReqStart:(e,t)=>{s(e,r(t,n,"initialize","network_request"))},_markInitNetworkReqEnd:(e,t)=>{s(e,r(t,"end","initialize","network_request"))},_markInitProcessStart:e=>{s(e,r({},n,"initialize","process"))},_markInitProcessEnd:(e,t)=>{s(e,r(t,"end","initialize","process"))},_clearMarkers:e=>{i.delete(e)},_formatError(e){if(e&&"object"==typeof e)return{code:o(e,"code"),name:o(e,"name"),message:o(e,"message")}},_getDiagnosticsData(e,i,n,r){var s;return{success:(null==e?void 0:e.ok)===!0,statusCode:null==e?void 0:e.status,sdkRegion:null===(s=null==e?void 0:e.headers)||void 0===s?void 0:s.get("x-statsig-region"),isDelta:!0===n.includes('"is_delta":true')||void 0,attempt:i,error:t.Diagnostics._formatError(r)}},_enqueueDiagnosticsEvent(e,i,n,r){let s=t.Diagnostics._getMarkers(n);if(null==s||s.length<=0)return -1;let o=s[s.length-1].timestamp-s[0].timestamp;t.Diagnostics._clearMarkers(n);let a=function(e,t){let i={eventName:"statsig::diagnostics",user:e,value:null,metadata:t,time:Date.now()};return i}(e,{context:"initialize",markers:s.slice(),statsigOptions:r});return i.enqueue(a),o}}},9549:function(e,t){"use strict";var i=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t._fetchTxtRecords=void 0;let n=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),r=["i","e","d"];t._fetchTxtRecords=function(e){return i(this,void 0,void 0,function*(){let t=yield e("https://cloudflare-dns.com/dns-query",{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:n});if(!t.ok){let i=Error("Failed to fetch TXT records from DNS");throw i.name="DnsTxtFetchError",i}let s=yield t.arrayBuffer(),o=new Uint8Array(s);return function(e){let t=e.findIndex((t,i)=>i<200&&"="===String.fromCharCode(t)&&r.includes(String.fromCharCode(e[i-1])));if(-1===t){let i=Error("Failed to parse TXT records from DNS");throw i.name="DnsTxtParseError",i}let n="";for(let s=t-1;s<e.length;s++)n+=String.fromCharCode(e[s]);return n.split(",")}(o)})}},36831:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},68896:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=t.EXCEPTION_ENDPOINT=void 0;let r=i(99025),s=i(95881),o=i(56801);t.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";let a="[Statsig] UnknownError";function l(e){return e instanceof Error?e:"string"==typeof e?Error(e):Error("An unknown error occurred.")}t.ErrorBoundary=class{constructor(e,t,i,n){this._sdkKey=e,this._options=t,this._emitter=i,this._lastSeenError=n,this._seen=new Set}wrap(e,t){try{let i=e;(function(e){let t=new Set,i=Object.getPrototypeOf(e);for(;i&&i!==Object.prototype;)Object.getOwnPropertyNames(i).filter(e=>"function"==typeof(null==i?void 0:i[e])).forEach(e=>t.add(e)),i=Object.getPrototypeOf(i);return Array.from(t)})(i).forEach(n=>{let r=i[n];"$EB"in r||(i[n]=(...i)=>this._capture(t?`${t}:${n}`:n,()=>r.apply(e,i)),i[n].$EB=!0)})}catch(n){this._onError("eb:wrap",n)}}logError(e,t){this._onError(e,t)}getLastSeenErrorAndReset(){let e=this._lastSeenError;return this._lastSeenError=void 0,null!=e?e:null}attachErrorIfNoneExists(e){this._lastSeenError||(this._lastSeenError=l(e))}_capture(e,t){try{let i=t();if(i&&i instanceof Promise)return i.catch(t=>this._onError(e,t));return i}catch(n){return this._onError(e,n),null}}_onError(e,i){try{r.Log.warn(`Caught error in ${e}`,{error:i}),n(this,void 0,void 0,function*(){var n,r,u,c,d,g,h;let _=i||Error(a),f=_ instanceof Error,p=f?_.name:"No Name",v=l(_);if(this._lastSeenError=v,this._seen.has(p))return;if(this._seen.add(p),null===(r=null===(n=this._options)||void 0===n?void 0:n.networkConfig)||void 0===r?void 0:r.preventAllNetworkTraffic){null===(u=this._emitter)||void 0===u||u.call(this,{name:"error",error:i,tag:e});return}let m=s.SDKType._get(this._sdkKey),y=o.StatsigMetadataProvider.get(),b=f?_.stack:function(e){try{return JSON.stringify(e)}catch(t){return a}}(_),S=Object.assign({tag:e,exception:p,info:b,statsigOptions:function(e){if(!e)return{};let t={};return Object.keys(e).forEach(i=>{let n=e[i];switch(typeof n){case"number":case"bigint":case"boolean":t[String(i)]=n;break;case"string":n.length<50?t[String(i)]=n:t[String(i)]="set";break;case"object":"environment"===i?t.environment=n:"networkConfig"===i?t.networkConfig=n:t[String(i)]=null!=n?"set":"unset"}}),t}(this._options)},Object.assign(Object.assign({},y),{sdkType:m})),E=null!==(g=null===(d=null===(c=this._options)||void 0===c?void 0:c.networkConfig)||void 0===d?void 0:d.networkOverrideFunc)&&void 0!==g?g:fetch;yield E(t.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(m),"STATSIG-SDK-VERSION":String(y.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(S)}),null===(h=this._emitter)||void 0===h||h.call(this,{name:"error",error:i,tag:e})}).then(()=>{}).catch(()=>{})}catch(u){}}}},80624:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},21335:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},16156:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.EventLogger=void 0;let r=i(61867),s=i(56152),o=i(99025),a=i(33975),l=i(37631),u=i(19817),c=i(16790),d=i(38614),g=i(40801),h=i(65260),_={},f={Startup:"startup",GainedFocus:"gained_focus"};class p{static _safeFlushAndForget(e){var t;null===(t=_[e])||void 0===t||t.flush().catch(()=>{})}static _safeRetryFailedLogs(e){var t;null===(t=_[e])||void 0===t||t._retryFailedLogs(f.GainedFocus)}constructor(e,t,i,n){var r,s;this._sdkKey=e,this._emitter=t,this._network=i,this._options=n,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._loggingEnabled=null!==(r=null==n?void 0:n.loggingEnabled)&&void 0!==r?r:(null==n?void 0:n.disableLogging)===!0?c.LoggingEnabledOption.disabled:c.LoggingEnabledOption.browserOnly,(null==n?void 0:n.loggingEnabled)&&void 0!==n.disableLogging&&o.Log.warn("Detected both loggingEnabled and disableLogging options. loggingEnabled takes precedence - please remove disableLogging."),this._maxQueueSize=null!==(s=null==n?void 0:n.loggingBufferMaxSize)&&void 0!==s?s:100;let l=null==n?void 0:n.networkConfig;this._logEventUrlConfig=new g.UrlConfiguration(a.Endpoint._rgstr,null==l?void 0:l.logEventUrl,null==l?void 0:l.api,null==l?void 0:l.logEventFallbackUrls)}setLogEventCompressionMode(e){this._network.setLogEventCompressionMode(e)}setLoggingEnabled(e){if("disabled"===this._loggingEnabled&&"disabled"!==e){let t=this._getStorageKey(),i=(0,d._getObjectFromStorage)(t);i&&this._queue.push(...i),d.Storage.removeItem(t)}this._loggingEnabled=e}enqueue(e){this._shouldLogEvent(e)&&(this._normalizeAndAppendEvent(e),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&p._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(e){var t;let i=null!==(t=this._nonExposedChecks[e])&&void 0!==t?t:0;this._nonExposedChecks[e]=i+1}reset(){this.flush().catch(()=>{}),this._lastExposureTimeMap={}}start(){var e;let t=(0,l._isServerEnv)();t&&(null===(e=this._options)||void 0===e?void 0:e.loggingEnabled)!=="always"||(_[this._sdkKey]=this,t||(0,h._subscribeToVisiblityChanged)(e=>{"background"===e?p._safeFlushAndForget(this._sdkKey):"foreground"===e&&p._safeRetryFailedLogs(this._sdkKey)}),this._retryFailedLogs(f.Startup),this._startBackgroundFlushInterval())}stop(){return n(this,void 0,void 0,function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete _[this._sdkKey],yield this.flush()})}flush(){return n(this,void 0,void 0,function*(){if(this._appendAndResetNonExposedChecks(),0===this._queue.length)return;let e=this._queue;this._queue=[],yield this._sendEvents(e)})}_quickFlushIfNeeded(){!this._hasRunQuickFlush&&(this._hasRunQuickFlush=!0,Date.now()-this._creationTime>200||setTimeout(()=>p._safeFlushAndForget(this._sdkKey),200))}_shouldLogEvent(e){var t;if((null===(t=this._options)||void 0===t?void 0:t.loggingEnabled)!=="always"&&(0,l._isServerEnv)())return!1;if(!(0,u._isExposureEvent)(e))return!0;let i=e.user?e.user:{statsigEnvironment:void 0},n=(0,r._getUserStorageKey)(this._sdkKey,i),s=e.metadata?e.metadata:{},o=[e.eventName,n,s.gate,s.config,s.ruleID,s.allocatedExperiment,s.parameterName,String(s.isExplicitParameter),s.reason].join("|"),a=this._lastExposureTimeMap[o],c=Date.now();return(!a||!(c-a<6e5))&&(Object.keys(this._lastExposureTimeMap).length>1e3&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[o]=c,!0)}_sendEvents(e){return n(this,void 0,void 0,function*(){var t,i;if("disabled"===this._loggingEnabled)return this._saveFailedLogsToStorage(e),!1;try{let n=(0,h._isUnloading)(),r=n&&this._network.isBeaconSupported()&&(null===(i=null===(t=this._options)||void 0===t?void 0:t.networkConfig)||void 0===i?void 0:i.networkOverrideFunc)==null;this._emitter({name:"pre_logs_flushed",events:e});let s=r?this._sendEventsViaBeacon(e):yield this._sendEventsViaPost(e);if(s.success)return this._emitter({name:"logs_flushed",events:e}),!0;return o.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(e),!1}catch(a){return o.Log.warn("Failed to flush events."),!1}})}_sendEventsViaPost(e){return n(this,void 0,void 0,function*(){var t;let i=yield this._network.post(this._getRequestData(e)),n=null!==(t=null==i?void 0:i.code)&&void 0!==t?t:-1;return{success:n>=200&&n<300}})}_sendEventsViaBeacon(e){return{success:this._network.beacon(this._getRequestData(e))}}_getRequestData(e){return{sdkKey:this._sdkKey,data:{events:e},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[a.NetworkParam.EventCount]:String(e.length)},credentials:"same-origin"}}_saveFailedLogsToStorage(e){for(;e.length>500;)e.shift();let t=this._getStorageKey();try{(0,d._setObjectInStorage)(t,e)}catch(i){o.Log.warn("Unable to save failed logs to storage")}}_retryFailedLogs(e){let t=this._getStorageKey();n(this,void 0,void 0,function*(){d.Storage.isReady()||(yield d.Storage.isReadyResolver());let i=(0,d._getObjectFromStorage)(t);if(!i)return;e===f.Startup&&d.Storage.removeItem(t);let n=yield this._sendEvents(i);n&&e===f.GainedFocus&&d.Storage.removeItem(t)}).catch(()=>{o.Log.warn("Failed to flush stored logs")})}_getStorageKey(){return`statsig.failed_logs.${(0,s._DJB2)(this._sdkKey)}`}_normalizeAndAppendEvent(e){e.user&&(e.user=Object.assign({},e.user),delete e.user.privateAttributes);let t={},i=this._getCurrentPageUrl();i&&(t.statsigMetadata={currentPage:i});let n=Object.assign(Object.assign({},e),t);o.Log.debug("Enqueued Event:",n),this._queue.push(n)}_appendAndResetNonExposedChecks(){0!==Object.keys(this._nonExposedChecks).length&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var e;if((null===(e=this._options)||void 0===e?void 0:e.includeCurrentPageUrlWithEvents)!==!1)return(0,l._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var e,t;let i=null!==(t=null===(e=this._options)||void 0===e?void 0:e.loggingIntervalMs)&&void 0!==t?t:1e4,n=setInterval(()=>{let e=_[this._sdkKey];e&&e._flushIntervalId===n?p._safeFlushAndForget(this._sdkKey):clearInterval(n)},i);this._flushIntervalId=n}}t.EventLogger=p},56152:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getSortedObject=t._DJB2Object=t._DJB2=void 0;let n=i(38687),r=e=>{let t=0;for(let i=0;i<e.length;i++){let n=e.charCodeAt(i);t=(t<<5)-t+n,t&=t}return String(t>>>0)};t._DJB2=r;let s=(e,i)=>(0,t._DJB2)(JSON.stringify((0,t._getSortedObject)(e,i)));t._DJB2Object=s;let o=(e,i)=>{if(null==e)return null;let r=Object.keys(e).sort(),s={};return r.forEach(r=>{let o=e[r];if(0===i||"object"!==(0,n._typeOf)(o)){s[r]=o;return}s[r]=(0,t._getSortedObject)(o,null!=i?i-1:i)}),s};t._getSortedObject=o},76724:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},99025:function(e,t){"use strict";function i(e){return e.unshift("[Statsig]"),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Log=t.LogLevel=void 0,t.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class n{static info(...e){n.level>=t.LogLevel.Info&&console.info("  INFO ",...i(e))}static debug(...e){n.level>=t.LogLevel.Debug&&console.debug(" DEBUG ",...i(e))}static warn(...e){n.level>=t.LogLevel.Warn&&console.warn("  WARN ",...i(e))}static error(...e){n.level>=t.LogLevel.Error&&console.error(" ERROR ",...i(e))}}t.Log=n,n.level=t.LogLevel.Warn},41231:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMemoKey=t.MemoPrefix=void 0,t.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_configList:"cl",_layer:"l",_paramStore:"p"};let i=new Set([]),n=new Set(["userPersistedValues"]);t.createMemoKey=function(e,t,r){let s=`${e}|${t}`;if(!r)return s;for(let o of Object.keys(r)){if(n.has(o))return;i.has(o)?s+=`|${o}=true`:s+=`|${o}=${r[o]}`}return s}},33975:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkParam=t.NetworkDefault=t.Endpoint=void 0,t.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},t.NetworkDefault={[t.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[t.Endpoint._initialize]:"https://featureassets.org/v1",[t.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},t.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}},3284:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkCore=void 0,i(375);let r=i(375),s=i(60642),o=i(99025),a=i(33975),l=i(74930),u=i(11753),c=i(95881),d=i(37631),g=i(27995),h=i(33463),_=i(86478),f=i(56801),p=i(16790),v=i(65260),m=new Set([408,500,502,503,504,522,524,599]);t.NetworkCore=class{constructor(e,t){this._emitter=t,this._errorBoundary=null,this._timeout=1e4,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,e&&(this._options=e),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new l.NetworkFallbackResolver(this._options),this.setLogEventCompressionMode(this._getLogEventCompressionMode(e))}setLogEventCompressionMode(e){this._options.logEventCompressionMode=e}setErrorBoundary(e){this._errorBoundary=e,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(e)}isBeaconSupported(){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon}getLastUsedInitUrlAndReset(){let e=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,e}beacon(e){if(!y(e))return!1;let t=this._getInternalRequestArgs("POST",e),i=this._getPopulatedURL(t),n=navigator;return n.sendBeacon.bind(n)(i,t.body)}post(e){return n(this,void 0,void 0,function*(){let t=this._getInternalRequestArgs("POST",e);return this._tryEncodeBody(t),yield this._tryToCompressBody(t),this._sendRequest(t)})}get(e){let t=this._getInternalRequestArgs("GET",e);return this._sendRequest(t)}_sendRequest(e){return n(this,void 0,void 0,function*(){var t,i,r,l;if(!y(e)||this._netConfig.preventAllNetworkTraffic)return null;let{method:u,body:c,retries:d,attempt:g}=e,h=e.urlConfig.endpoint;if(this._isRateLimited(h))return o.Log.warn(`Request to ${h} was blocked because you are making requests too frequently.`),null;let f=null!=g?g:1,p="undefined"!=typeof AbortController?new AbortController:null,b=setTimeout(()=>{null==p||p.abort(`Timeout of ${this._timeout}ms expired.`)},this._timeout),E=this._getPopulatedURL(e),C=null,w=(0,v._isUnloading)();try{let k={method:u,body:c,headers:Object.assign({},e.headers),signal:null==p?void 0:p.signal,priority:e.priority,keepalive:w};e.urlConfig.endpoint===a.Endpoint._initialize&&s.Diagnostics._markInitNetworkReqStart(e.sdkKey,{attempt:f});let T=this._leakyBucket[h];T&&(T.lastRequestTime=Date.now(),this._leakyBucket[h]=T);let D=null!==(t=this._netConfig.networkOverrideFunc)&&void 0!==t?t:fetch;if(C=yield D(E,k),clearTimeout(b),!C.ok){let O=yield C.text().catch(()=>"No Text"),I=Error(`NetworkError: ${E} ${O}`);throw I.name="NetworkError",I}let P=yield C.text();return S(e,C,f,P),this._fallbackResolver.tryBumpExpiryTime(e.sdkKey,e.urlConfig),{body:P,code:C.status}}catch(U){let A=(null==p?void 0:p.signal.aborted)&&"string"==typeof p.signal.reason?p.signal.reason:"string"==typeof U?U:U instanceof Error?`${U.name}: ${U.message}`:"Unknown Error",M=function(e){let t=(null==e?void 0:e.signal.aborted)&&"string"==typeof e.signal.reason&&e.signal.reason.includes("Timeout");return t||!1}(p);S(e,C,f,"",U);let L=yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(e.sdkKey,e.urlConfig,A,M);if(L&&(e.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(e.sdkKey,e.urlConfig)),!d||f>d||!m.has(null!==(i=null==C?void 0:C.status)&&void 0!==i?i:500)){null===(r=this._emitter)||void 0===r||r.call(this,{name:"error",error:U,tag:_.ErrorTag.NetworkError,requestArgs:e});let R=`A networking error occurred during ${u} request to ${E}.`;return o.Log.error(R,A,U),null===(l=this._errorBoundary)||void 0===l||l.attachErrorIfNoneExists(R),null}return yield function(e){return n(this,void 0,void 0,function*(){yield new Promise(t=>setTimeout(t,Math.min(500*(e*e),3e4)))})}(f),this._sendRequest(Object.assign(Object.assign({},e),{retries:d,attempt:f+1}))}})}_getLogEventCompressionMode(e){let t=null==e?void 0:e.logEventCompressionMode;return t||(null==e?void 0:e.disableCompression)!==!0||(t=p.LogEventCompressionMode.Disabled),t||(t=p.LogEventCompressionMode.Enabled),t}_isRateLimited(e){var t;let i=Date.now(),n=null!==(t=this._leakyBucket[e])&&void 0!==t?t:{count:0,lastRequestTime:i},r=i-n.lastRequestTime;return n.count=Math.max(0,n.count-Math.floor(.05*r)),n.count>=50||(n.count+=1,n.lastRequestTime=i,this._leakyBucket[e]=n,!1)}_getPopulatedURL(e){var t;let i=null!==(t=e.fallbackUrl)&&void 0!==t?t:e.urlConfig.getUrl();(e.urlConfig.endpoint===a.Endpoint._initialize||e.urlConfig.endpoint===a.Endpoint._download_config_specs)&&(this._lastUsedInitUrl=i);let n=Object.assign({[a.NetworkParam.SdkKey]:e.sdkKey,[a.NetworkParam.SdkType]:c.SDKType._get(e.sdkKey),[a.NetworkParam.SdkVersion]:f.SDK_VERSION,[a.NetworkParam.Time]:String(Date.now()),[a.NetworkParam.SessionID]:g.SessionID.get(e.sdkKey)},e.params),r=Object.keys(n).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`).join("&");return`${i}${r?`?${r}`:""}`}_tryEncodeBody(e){var t;let i=(0,d._getWindowSafe)(),n=e.body;if(e.isStatsigEncodable&&!this._options.disableStatsigEncoding&&"string"==typeof n&&null==(0,r._getStatsigGlobalFlag)("no-encode")&&(null==i?void 0:i.btoa))try{e.body=i.btoa(n).split("").reverse().join(""),e.params=Object.assign(Object.assign({},null!==(t=e.params)&&void 0!==t?t:{}),{[a.NetworkParam.StatsigEncoded]:"1"})}catch(s){o.Log.warn(`Request encoding failed for ${e.urlConfig.getUrl()}`,s)}}_tryToCompressBody(e){return n(this,void 0,void 0,function*(){var t;let i=e.body;if("string"==typeof i&&function(e,t){if(!e.isCompressable||null!=(0,r._getStatsigGlobalFlag)("no-compress")||"undefined"==typeof CompressionStream||"undefined"==typeof TextEncoder)return!1;let i=null!=e.urlConfig.customUrl||null!=e.urlConfig.fallbackUrls,n=!0===u.SDKFlags.get(e.sdkKey,"enable_log_event_compression");switch(t.logEventCompressionMode){case p.LogEventCompressionMode.Disabled:return!1;case p.LogEventCompressionMode.Enabled:if(i&&!n)return!1;return!0;case p.LogEventCompressionMode.Forced:return!0;default:return!1}}(e,this._options))try{let n;let s=new TextEncoder().encode(i),l=new CompressionStream("gzip"),c=l.writable.getWriter();c.write(s).catch(o.Log.error),c.close().catch(o.Log.error);let d=l.readable.getReader(),g=[];for(;!(n=yield d.read()).done;)g.push(n.value);let h=g.reduce((e,t)=>e+t.length,0),_=new Uint8Array(h),f=0;for(let v of g)_.set(v,f),f+=v.length;e.body=_,e.params=Object.assign(Object.assign({},null!==(t=e.params)&&void 0!==t?t:{}),{[a.NetworkParam.IsGzipped]:"1"})}catch(m){o.Log.warn(`Request compression failed for ${e.urlConfig.getUrl()}`,m)}})}_getInternalRequestArgs(e,t){let i=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig),n=Object.assign(Object.assign({},t),{method:e,fallbackUrl:i});return"data"in t&&b(n,t.data),n}};let y=e=>!!e.sdkKey||(o.Log.warn("Unable to make request without an SDK key"),!1),b=(e,t)=>{let{sdkKey:i,fallbackUrl:n}=e,r=h.StableID.get(i),s=g.SessionID.get(i),o=c.SDKType._get(i);e.body=JSON.stringify(Object.assign(Object.assign({},t),{statsigMetadata:Object.assign(Object.assign({},f.StatsigMetadataProvider.get()),{stableID:r,sessionID:s,sdkType:o,fallbackUrl:n})}))};function S(e,t,i,n,r){e.urlConfig.endpoint===a.Endpoint._initialize&&s.Diagnostics._markInitNetworkReqEnd(e.sdkKey,s.Diagnostics._getDiagnosticsData(t,i,n,r))}},74930:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t._isDomainFailure=t.NetworkFallbackResolver=void 0;let r=i(9549),s=i(56152),o=i(99025),a=i(38614);function l(e,t){var i;let n=null!==(i=null==e?void 0:e.toLowerCase())&&void 0!==i?i:"";return t||n.includes("uncaught exception")||n.includes("failed to fetch")||n.includes("networkerror when attempting to fetch resource")}function u(e){return`statsig.network_fallback.${(0,s._DJB2)(e)}`}function c(e,t){let i=u(e);if(!t||0===Object.keys(t).length){a.Storage.removeItem(i);return}a.Storage.setItem(i,JSON.stringify(t))}t.NetworkFallbackResolver=class{constructor(e){var t;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=null===(t=e.networkConfig)||void 0===t?void 0:t.networkOverrideFunc}setErrorBoundary(e){this._errorBoundary=e}tryBumpExpiryTime(e,t){var i;let n=null===(i=this._fallbackInfo)||void 0===i?void 0:i[t.endpoint];n&&(n.expiryTime=Date.now()+6048e5,c(e,Object.assign(Object.assign({},this._fallbackInfo),{[t.endpoint]:n})))}getActiveFallbackUrl(e,t){var i,n;if(null!=t.customUrl&&null!=t.fallbackUrls)return null;let r=this._fallbackInfo;null==r&&(r=null!==(i=function(e){let t=u(e),i=a.Storage.getItem(t);if(!i)return null;try{return JSON.parse(i)}catch(n){return o.Log.error("Failed to parse FallbackInfo"),null}}(e))&&void 0!==i?i:{},this._fallbackInfo=r);let s=r[t.endpoint];return!s||Date.now()>(null!==(n=s.expiryTime)&&void 0!==n?n:0)||t.getChecksum()!==s.urlConfigChecksum?(delete r[t.endpoint],this._fallbackInfo=r,c(e,this._fallbackInfo),null):s.url?s.url:null}tryFetchUpdatedFallbackInfo(e,t,i,r){return n(this,void 0,void 0,function*(){var n,s;try{if(!l(i,r))return!1;let o=null==t.customUrl&&null==t.fallbackUrls,a=o?yield this._tryFetchFallbackUrlsFromNetwork(t):t.fallbackUrls,u=this._pickNewFallbackUrl(null===(n=this._fallbackInfo)||void 0===n?void 0:n[t.endpoint],a);if(!u)return!1;return this._updateFallbackInfoWithNewUrl(e,t,u),!0}catch(c){return null===(s=this._errorBoundary)||void 0===s||s.logError("tryFetchUpdatedFallbackInfo",c),!1}})}_updateFallbackInfoWithNewUrl(e,t,i){var n,r,s;let o={urlConfigChecksum:t.getChecksum(),url:i,expiryTime:Date.now()+6048e5,previous:[]},a=t.endpoint,l=null===(n=this._fallbackInfo)||void 0===n?void 0:n[a];l&&o.previous.push(...l.previous),o.previous.length>10&&(o.previous=[]);let u=null===(s=null===(r=this._fallbackInfo)||void 0===r?void 0:r[a])||void 0===s?void 0:s.url;null!=u&&o.previous.push(u),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[a]:o}),c(e,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(e){return n(this,void 0,void 0,function*(){var t;let i=this._dnsQueryCooldowns[e.endpoint];if(i&&Date.now()<i)return null;this._dnsQueryCooldowns[e.endpoint]=Date.now()+144e5;let n=[],s=yield(0,r._fetchTxtRecords)(null!==(t=this._networkOverrideFunc)&&void 0!==t?t:fetch),o=function(e){try{let t=new URL(e);return t.pathname}catch(i){return null}}(e.defaultUrl);for(let a of s){if(!a.startsWith(e.endpointDnsKey+"="))continue;let l=a.split("=");if(l.length>1){let u=l[1];u.endsWith("/")&&(u=u.slice(0,-1)),n.push(`https://${u}${o}`)}}return n})}_pickNewFallbackUrl(e,t){var i;if(null==t)return null;let n=new Set(null!==(i=null==e?void 0:e.previous)&&void 0!==i?i:[]),r=null==e?void 0:e.url,s=null;for(let o of t){let a=o.endsWith("/")?o.slice(0,-1):o;if(!n.has(o)&&a!==r){s=a;break}}return s}},t._isDomainFailure=l},30034:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4632:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},11753:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDKFlags=void 0;let i={};t.SDKFlags={setFlags:(e,t)=>{i[e]=t},get:(e,t)=>{var n,r;return null!==(r=null===(n=i[e])||void 0===n?void 0:n[t])&&void 0!==r&&r}}},95881:function(e,t){"use strict";let i;Object.defineProperty(t,"__esModule",{value:!0}),t.SDKType=void 0;let n={};t.SDKType={_get:e=>{var t;return(null!==(t=n[e])&&void 0!==t?t:"js-mono")+(null!=i?i:"")},_setClientType(e,t){n[e]=t},_setBindingType(e){i&&"-react"!==i||(i="-"+e)}}},37631:function(e,t,i){"use strict";var n=i(34155);Object.defineProperty(t,"__esModule",{value:!0}),t._getUnloadEvent=t._getCurrentPageUrlSafe=t._addDocumentEventListenerSafe=t._addWindowEventListenerSafe=t._isServerEnv=t._getDocumentSafe=t._getWindowSafe=void 0;let r=()=>"undefined"!=typeof window?window:null;t._getWindowSafe=r;let s=()=>{var e;let i=(0,t._getWindowSafe)();return null!==(e=null==i?void 0:i.document)&&void 0!==e?e:null};t._getDocumentSafe=s;let o=()=>{if(null!==(0,t._getDocumentSafe)())return!1;let e=void 0!==n&&null!=n.versions&&null!=n.versions.node,i="string"==typeof EdgeRuntime;return i||e};t._isServerEnv=o;let a=(e,i)=>{let n=(0,t._getWindowSafe)();"function"==typeof(null==n?void 0:n.addEventListener)&&n.addEventListener(e,i)};t._addWindowEventListenerSafe=a;let l=(e,i)=>{let n=(0,t._getDocumentSafe)();"function"==typeof(null==n?void 0:n.addEventListener)&&n.addEventListener(e,i)};t._addDocumentEventListenerSafe=l;let u=()=>{var e;try{return null===(e=(0,t._getWindowSafe)())||void 0===e?void 0:e.location.href.split(/[?#]/)[0]}catch(i){return}};t._getCurrentPageUrlSafe=u;let c=()=>{let e=(0,t._getWindowSafe)();return e&&"onpagehide"in e?"pagehide":"beforeunload"};t._getUnloadEvent=c},27995:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigSession=t.SessionID=void 0;let n=i(375),r=i(61867),s=i(99025),o=i(38614),a=i(99382),l={};function u(e,t){return setTimeout(()=>{var t;let i=null===(t=(0,n._getStatsigGlobal)())||void 0===t?void 0:t.instance(e);i&&i.$emt({name:"session_expired"})},t)}function c(e){return`statsig.session_id.${(0,r._getStorageKey)(e)}`}t.SessionID={get:e=>t.StatsigSession.get(e).data.sessionID},t.StatsigSession={get:e=>{null==l[e]&&(l[e]=function(e){let t=function(e){let t=c(e);return(0,o._getObjectFromStorage)(t)}(e),i=Date.now();return t||(t={sessionID:(0,a.getUUID)(),startTime:i,lastUpdate:i}),{data:t,sdkKey:e}}(e));let t=l[e];return function(e){let t=Date.now(),i=e.data,n=e.sdkKey;if(function({lastUpdate:e}){return Date.now()-e>18e5}(i)||function({startTime:e}){return Date.now()-e>144e5}(i)){i.sessionID=(0,a.getUUID)(),i.startTime=t;let r=null==__STATSIG__?void 0:__STATSIG__.instance(n);r&&r.$emt({name:"session_expired"})}i.lastUpdate=t,function(e,t){let i=c(t);try{(0,o._setObjectInStorage)(i,e)}catch(n){s.Log.warn("Failed to save SessionID")}}(i,e.sdkKey),clearTimeout(e.idleTimeoutID),clearTimeout(e.ageTimeoutID);let l=t-i.startTime;return e.idleTimeoutID=u(n,18e5),e.ageTimeoutID=u(n,144e5-l),e}(t)},overrideInitialSessionID:(e,t)=>{l[t]=function(e,t){let i=Date.now();return{data:{sessionID:e,startTime:i,lastUpdate:i},sdkKey:t}}(e,t)}}},61486:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._fastApproxSizeOf=void 0;let i=(e,i)=>{let n=0,r=Object.keys(e);for(let s=0;s<r.length;s++){let o=r[s],a=e[o];if(n+=o.length,"object"==typeof a&&null!==a?n+=(0,t._fastApproxSizeOf)(a,i)+2:n+=String(a).length+1,n>=i)break}return n};t._fastApproxSizeOf=i},33463:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCookieName=t.StableID=void 0;let n=i(61867),r=i(99025),s=i(37631),o=i(38614),a=i(99382),l={},u={},c={};function d(e){return`statsig.stable_id.${(0,n._getStorageKey)(e)}`}function g(e,t){let i=d(t);try{(0,o._setObjectInStorage)(i,e)}catch(n){r.Log.warn("Failed to save StableID to storage")}}function h(e,t){if(!u[t]||null==(0,s._getDocumentSafe)())return;let i=new Date;i.setFullYear(i.getFullYear()+1),document.cookie=`${_(t)}=${encodeURIComponent(e)}; expires=${i.toUTCString()}; path=/`}function _(e){return`statsig.stable_id.${(0,n._getStorageKey)(e)}`}t.StableID={cookiesEnabled:!1,randomID:Math.random().toString(36),get:e=>{if(c[e])return null;if(null!=l[e])return l[e];let t=null;return null!=(t=function(e){if(!u[e]||null==(0,s._getDocumentSafe)())return null;let t=document.cookie.split(";");for(let i of t){let[n,r]=i.trim().split("=");if(n===_(e))return decodeURIComponent(r)}return null}(e))?(l[e]=t,g(t,e),t):(null==(t=function(e){let t=d(e);return(0,o._getObjectFromStorage)(t)}(e))&&(t=(0,a.getUUID)()),g(t,e),h(t,e),l[e]=t,t)},setOverride:(e,t)=>{l[t]=e,g(e,t),h(e,t)},_setCookiesEnabled:(e,t)=>{u[e]=t},_setDisabled:(e,t)=>{c[e]=t}},t.getCookieName=_},44850:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigClientBase=void 0,i(375);let r=i(375),s=i(68896),o=i(16156),a=i(99025),l=i(41231),u=i(37631),c=i(27995),d=i(33463),g=i(16790),h=i(38614);t.StatsigClientBase=class{constructor(e,t,i,n){var l,g,_,f;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};let p=this.$emt.bind(this);(null==n?void 0:n.logLevel)!=null&&(a.Log.level=n.logLevel),(null==n?void 0:n.disableStorage)&&h.Storage._setDisabled(!0),(null==n?void 0:n.initialSessionID)&&c.StatsigSession.overrideInitialSessionID(n.initialSessionID,e),(null==n?void 0:n.storageProvider)&&h.Storage._setProvider(n.storageProvider),(null==n?void 0:n.enableCookies)&&d.StableID._setCookiesEnabled(e,n.enableCookies),(null==n?void 0:n.disableStableID)&&d.StableID._setDisabled(e,!0),this._sdkKey=e,this._options=null!=n?n:{},this._memoCache={},this.overrideAdapter=null!==(l=null==n?void 0:n.overrideAdapter)&&void 0!==l?l:null,this._logger=new o.EventLogger(e,p,i,n),this._errorBoundary=new s.ErrorBoundary(e,n,p),this._errorBoundary.wrap(this),this._errorBoundary.wrap(t),this._errorBoundary.wrap(this._logger),i.setErrorBoundary(this._errorBoundary),this.dataAdapter=t,this.dataAdapter.attach(e,n,i),this.storageProvider=h.Storage,null===(f=null===(_=null===(g=this.overrideAdapter)||void 0===g?void 0:g.loadFromStorage)||void 0===_?void 0:_.call(g))||void 0===f||f.catch(e=>this._errorBoundary.logError("OA::loadFromStorage",e)),this._primeReadyRipcord(),function(e,t){var i;if((0,u._isServerEnv)())return;let n=(0,r._getStatsigGlobal)(),s=null!==(i=n.instances)&&void 0!==i?i:{};null!=s[e]&&a.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys."),s[e]=t,n.firstInstance||(n.firstInstance=t),n.instances=s,__STATSIG__=n}(e,this)}updateRuntimeOptions(e){e.loggingEnabled?(this._options.loggingEnabled=e.loggingEnabled,this._logger.setLoggingEnabled(e.loggingEnabled)):null!=e.disableLogging&&(this._options.disableLogging=e.disableLogging,this._logger.setLoggingEnabled(e.disableLogging?"disabled":"browser-only")),null!=e.disableStorage&&(this._options.disableStorage=e.disableStorage,h.Storage._setDisabled(e.disableStorage)),null!=e.enableCookies&&(this._options.enableCookies=e.enableCookies,d.StableID._setCookiesEnabled(this._sdkKey,e.enableCookies)),e.logEventCompressionMode?this._logger.setLogEventCompressionMode(e.logEventCompressionMode):e.disableCompression&&this._logger.setLogEventCompressionMode(g.LogEventCompressionMode.Disabled)}flush(){return this._logger.flush()}shutdown(){return n(this,void 0,void 0,function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()})}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){if(this._listeners[e]){let i=this._listeners[e].indexOf(t);-1!==i&&this._listeners[e].splice(i,1)}}$on(e,t){t.__isInternal=!0,this.on(e,t)}$emt(e){var t;let i=t=>{try{t(e)}catch(i){if(!0===t.__isInternal){this._errorBoundary.logError(`__emit:${e.name}`,i);return}a.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",e)}};this._listeners[e.name]&&this._listeners[e.name].forEach(e=>i(e)),null===(t=this._listeners["*"])||void 0===t||t.forEach(i)}_setStatus(e,t){this.loadingStatus=e,this._memoCache={},this.$emt({name:"values_updated",status:e,values:t})}_enqueueExposure(e,t,i){if((null==i?void 0:i.disableExposureLog)===!0){this._logger.incrementNonExposureCount(e);return}this._logger.enqueue(t)}_memoize(e,t){return(i,n)=>{if(this._options.disableEvaluationMemoization)return t(i,n);let r=(0,l.createMemoKey)(e,i,n);return r?(r in this._memoCache||(Object.keys(this._memoCache).length>=3e3&&(this._memoCache={}),this._memoCache[r]=t(i,n)),this._memoCache[r]):t(i,n)}}}},86478:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTag=void 0,t.ErrorTag={NetworkError:"NetworkError"}},80712:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataAdapterCachePrefix=void 0,t.DataAdapterCachePrefix="statsig.cached"},19817:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._createLayerParameterExposure=t._createConfigExposure=t._mapExposures=t._createGateExposure=t._isExposureEvent=void 0;let i="statsig::config_exposure",n="statsig::gate_exposure",r="statsig::layer_exposure",s=(e,t,i,n,r)=>(i.bootstrapMetadata&&(n.bootstrapMetadata=i.bootstrapMetadata),{eventName:e,user:t,value:null,metadata:c(i,n),secondaryExposures:r,time:Date.now()});t._isExposureEvent=({eventName:e})=>e===n||e===i||e===r;let o=(e,t,i)=>{var r,o,l;let u={gate:t.name,gateValue:String(t.value),ruleID:t.ruleID};return(null===(r=t.__evaluation)||void 0===r?void 0:r.version)!=null&&(u.configVersion=t.__evaluation.version),s(n,e,t.details,u,a(null!==(l=null===(o=t.__evaluation)||void 0===o?void 0:o.secondary_exposures)&&void 0!==l?l:[],i))};function a(e,t){return e.map(e=>"string"==typeof e?(null!=t?t:{})[e]:e).filter(e=>null!=e)}t._createGateExposure=o,t._mapExposures=a;let l=(e,t,n)=>{var r,o,l,u;let c={config:t.name,ruleID:t.ruleID};return(null===(r=t.__evaluation)||void 0===r?void 0:r.version)!=null&&(c.configVersion=t.__evaluation.version),(null===(o=t.__evaluation)||void 0===o?void 0:o.passed)!=null&&(c.rulePassed=String(t.__evaluation.passed)),s(i,e,t.details,c,a(null!==(u=null===(l=t.__evaluation)||void 0===l?void 0:l.secondary_exposures)&&void 0!==u?u:[],n))};t._createConfigExposure=l;let u=(e,t,i,n)=>{var o,l,u,c,d,g,h;let _=t.__evaluation,f=(null===(o=null==_?void 0:_.explicit_parameters)||void 0===o?void 0:o.includes(i))===!0,p="",v=null!==(l=null==_?void 0:_.undelegated_secondary_exposures)&&void 0!==l?l:[];f&&(p=null!==(u=_.allocated_experiment_name)&&void 0!==u?u:"",v=null!==(c=_.secondary_exposures)&&void 0!==c?c:[]);let m=null===(d=t.__evaluation)||void 0===d?void 0:d.parameter_rule_ids,y={config:t.name,parameterName:i,ruleID:null!==(g=null==m?void 0:m[i])&&void 0!==g?g:t.ruleID,allocatedExperiment:p,isExplicitParameter:String(f)};return(null===(h=t.__evaluation)||void 0===h?void 0:h.version)!=null&&(y.configVersion=t.__evaluation.version),s(r,e,t.details,y,a(v,n))};t._createLayerParameterExposure=u;let c=(e,t)=>(t.reason=e.reason,e.lcut&&(t.lcut=String(e.lcut)),e.receivedAt&&(t.receivedAt=String(e.receivedAt)),t)},56801:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigMetadataProvider=t.SDK_VERSION=void 0,t.SDK_VERSION="3.25.0";let i={sdkVersion:t.SDK_VERSION,sdkType:"js-mono"};t.StatsigMetadataProvider={get:()=>i,add:e=>{i=Object.assign(Object.assign({},i),e)}}},16790:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingEnabledOption=t.LogEventCompressionMode=void 0,t.LogEventCompressionMode={Disabled:"d",Enabled:"e",Forced:"f"},t.LoggingEnabledOption={disabled:"disabled",browserOnly:"browser-only",always:"always"}},11497:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},78431:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._makeTypedGet=t._mergeOverride=t._makeLayer=t._makeExperiment=t._makeDynamicConfig=t._makeFeatureGate=void 0;let n=i(99025),r=i(38687);function s(e,t,i,n){var r;return{name:e,details:t,ruleID:null!==(r=null==i?void 0:i.rule_id)&&void 0!==r?r:"",__evaluation:i,value:n}}function o(e,t,i){var n;let r=null!==(n=null==i?void 0:i.value)&&void 0!==n?n:{};return Object.assign(Object.assign({},s(e,t,i,r)),{get:a(e,null==i?void 0:i.value)})}function a(e,t,i){return(s,o)=>{var a;let l=null!==(a=null==t?void 0:t[s])&&void 0!==a?a:null;return null==l?null!=o?o:null:null==o||(0,r._isTypeMatch)(l,o)?(null==i||i(s),l):(n.Log.warn(`Parameter type mismatch. '${e}.${s}' was found to be type '${typeof l}' but fallback/return type is '${typeof o}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),null!=o?o:null)}}t._makeFeatureGate=function(e,t,i){var n;return Object.assign(Object.assign({},s(e,t,i,(null==i?void 0:i.value)===!0)),{idType:null!==(n=null==i?void 0:i.id_type)&&void 0!==n?n:null})},t._makeDynamicConfig=o,t._makeExperiment=function(e,t,i){var n;let r=o(e,t,i);return Object.assign(Object.assign({},r),{groupName:null!==(n=null==i?void 0:i.group_name)&&void 0!==n?n:null})},t._makeLayer=function(e,t,i,n){var r,o;return Object.assign(Object.assign({},s(e,t,i,void 0)),{get:a(e,null==i?void 0:i.value,n),groupName:null!==(r=null==i?void 0:i.group_name)&&void 0!==r?r:null,__value:null!==(o=null==i?void 0:i.value)&&void 0!==o?o:{}})},t._mergeOverride=function(e,t,i,n){return Object.assign(Object.assign(Object.assign({},e),t),{get:a(e.name,i,n)})},t._makeTypedGet=a},87963:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},45051:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_DETAIL_ERROR_MESSAGES=t.createUpdateDetails=void 0;let i=(e,t,i,n,r,s)=>({duration:i,source:t,success:e,error:n,sourceUrl:r,warnings:s});t.createUpdateDetails=i,t.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."}},89063:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getFullUserHash=t._normalizeUser=void 0;let n=i(56152),r=i(99025);t._normalizeUser=function(e,t,i){try{let n=JSON.parse(JSON.stringify(e));return null!=t&&null!=t.environment?n.statsigEnvironment=t.environment:null!=i&&(n.statsigEnvironment={tier:i}),n}catch(s){return r.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}},t._getFullUserHash=function(e){return e?(0,n._DJB2Object)(e):null}},38614:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._setObjectInStorage=t._getObjectFromStorage=t.Storage=void 0;let n=i(99025),r=i(37631),s={},o={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:e=>s[e]?s[e]:null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]},getAllKeys:()=>Object.keys(s)},a=null;try{let l=(0,r._getWindowSafe)();l&&l.localStorage&&"function"==typeof l.localStorage.getItem&&(a={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:e=>l.localStorage.getItem(e),setItem:(e,t)=>l.localStorage.setItem(e,t),removeItem:e=>l.localStorage.removeItem(e),getAllKeys:()=>Object.keys(l.localStorage)})}catch(u){n.Log.warn("Failed to setup localStorageProvider.")}let c=null!=a?a:o,d=c;function g(e){try{return e()}catch(r){if(r instanceof Error&&"SecurityError"===r.name)return t.Storage._setProvider(o),null;if(r instanceof Error&&"QuotaExceededError"===r.name){let i=t.Storage.getAllKeys(),n=i.filter(e=>e.startsWith("statsig."));r.message=`${r.message}. Statsig Keys: ${n.length}`}throw r}}t.Storage={isReady:()=>d.isReady(),isReadyResolver:()=>d.isReadyResolver(),getProviderName:()=>d.getProviderName(),getItem:e=>g(()=>d.getItem(e)),setItem:(e,t)=>g(()=>d.setItem(e,t)),removeItem:e=>d.removeItem(e),getAllKeys:()=>d.getAllKeys(),_setProvider:e=>{c=e,d=e},_setDisabled:e=>{d=e?o:c}},t._getObjectFromStorage=function(e){let i=t.Storage.getItem(e);return JSON.parse(null!=i?i:"null")},t._setObjectInStorage=function(e,i){t.Storage.setItem(e,JSON.stringify(i))}},53111:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._typedJsonParse=void 0;let n=i(99025);t._typedJsonParse=function(e,t,i){try{let r=JSON.parse(e);if(r&&"object"==typeof r&&t in r)return r}catch(s){}return n.Log.error(`Failed to parse ${i}`),null}},38687:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._isTypeMatch=t._typeOf=void 0,t._typeOf=function(e){return Array.isArray(e)?"array":typeof e},t._isTypeMatch=function(e,t){let i=e=>Array.isArray(e)?"array":null===e?"null":typeof e;return i(e)===i(t)}},99382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUUID=void 0,t.getUUID=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let e=new Date().getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0,i="89ab"[Math.floor(4*Math.random())];return`xxxxxxxx-xxxx-4xxx-${i}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,i=>{let n=16*Math.random();return e>0?(n=(e+n)%16|0,e=Math.floor(e/16)):(n=(t+n)%16|0,t=Math.floor(t/16)),("x"===i?n:7&n|8).toString(16)})}},40801:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlConfiguration=void 0;let n=i(56152),r=i(33975),s={[r.Endpoint._initialize]:"i",[r.Endpoint._rgstr]:"e",[r.Endpoint._download_config_specs]:"d"};t.UrlConfiguration=class{constructor(e,t,i,n){this.customUrl=null,this.fallbackUrls=null,this.endpoint=e,this.endpointDnsKey=s[e],t&&(this.customUrl=t),!t&&i&&(this.customUrl=i.endsWith("/")?`${i}${e}`:`${i}/${e}`),n&&(this.fallbackUrls=n);let o=r.NetworkDefault[e];this.defaultUrl=`${o}/${e}`}getUrl(){var e;return null!==(e=this.customUrl)&&void 0!==e?e:this.defaultUrl}getChecksum(){var e;let t=(null!==(e=this.fallbackUrls)&&void 0!==e?e:[]).sort().join(",");return(0,n._DJB2)(this.customUrl+t)}}},65260:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._notifyVisibilityChanged=t._subscribeToVisiblityChanged=t._isUnloading=t._isCurrentlyVisible=void 0;let n=i(37631),r="foreground",s="background",o=[],a=r,l=!1;t._isCurrentlyVisible=()=>a===r,t._isUnloading=()=>l;let u=e=>{o.unshift(e)};t._subscribeToVisiblityChanged=u;let c=e=>{e!==a&&(a=e,o.forEach(t=>t(e)))};t._notifyVisibilityChanged=c,(0,n._addWindowEventListenerSafe)("focus",()=>{l=!1,(0,t._notifyVisibilityChanged)(r)}),(0,n._addWindowEventListenerSafe)("blur",()=>(0,t._notifyVisibilityChanged)(s)),(0,n._addDocumentEventListenerSafe)("visibilitychange",()=>{(0,t._notifyVisibilityChanged)("visible"===document.visibilityState?r:s)}),(0,n._addWindowEventListenerSafe)((0,n._getUnloadEvent)(),()=>{l=!0,(0,t._notifyVisibilityChanged)(s)})},13328:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.Log=t.EventLogger=t.Diagnostics=void 0,i(375);let s=i(375),o=i(60642);Object.defineProperty(t,"Diagnostics",{enumerable:!0,get:function(){return o.Diagnostics}});let a=i(16156);Object.defineProperty(t,"EventLogger",{enumerable:!0,get:function(){return a.EventLogger}});let l=i(99025);Object.defineProperty(t,"Log",{enumerable:!0,get:function(){return l.Log}});let u=i(56801),c=i(38614);Object.defineProperty(t,"Storage",{enumerable:!0,get:function(){return c.Storage}}),r(i(375),t),r(i(61867),t),r(i(394),t),r(i(53183),t),r(i(60642),t),r(i(36831),t),r(i(68896),t),r(i(80624),t),r(i(21335),t),r(i(56152),t),r(i(76724),t),r(i(99025),t),r(i(41231),t),r(i(33975),t),r(i(3284),t),r(i(30034),t),r(i(4632),t),r(i(37631),t),r(i(95881),t),r(i(27995),t),r(i(61486),t),r(i(33463),t),r(i(44850),t),r(i(86478),t),r(i(80712),t),r(i(19817),t),r(i(56801),t),r(i(16790),t),r(i(11497),t),r(i(78431),t),r(i(87963),t),r(i(89063),t),r(i(38614),t),r(i(53111),t),r(i(38687),t),r(i(40801),t),r(i(99382),t),r(i(65260),t),r(i(45051),t),r(i(11753),t),Object.assign((0,s._getStatsigGlobal)(),{Log:l.Log,SDK_VERSION:u.SDK_VERSION})},33815:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._resolveDeltasResponse=void 0;let n=i(13328);function r(e,t){null==e||e.forEach(e=>{delete t[e]})}t._resolveDeltasResponse=function(e,t){var i;let s=(0,n._typedJsonParse)(t,"checksum","DeltasEvaluationResponse");if(!s)return{hadBadDeltaChecksum:!0};let o=Object.assign(Object.assign(Object.assign({},e),s),{feature_gates:Object.assign(Object.assign({},e.feature_gates),s.feature_gates),layer_configs:Object.assign(Object.assign({},e.layer_configs),s.layer_configs),dynamic_configs:Object.assign(Object.assign({},e.dynamic_configs),s.dynamic_configs)}),a=(r((i=o).deleted_gates,i.feature_gates),delete i.deleted_gates,r(i.deleted_configs,i.dynamic_configs),delete i.deleted_configs,r(i.deleted_layers,i.layer_configs),delete i.deleted_layers,i),l=(0,n._DJB2Object)({feature_gates:a.feature_gates,dynamic_configs:a.dynamic_configs,layer_configs:a.layer_configs},2),u=l===s.checksumV2;return u?JSON.stringify(a):{hadBadDeltaChecksum:!0,badChecksum:l,badMergedConfigs:a,badFullResponse:s.deltas_full_response}}},44228:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i(13328);t.default=class{constructor(e){this._sdkKey=e,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings.clear()}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,n._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(e,t){var i;if(!e)return!1;let r=(0,n._typedJsonParse)(e.data,"has_updates","EvaluationResponse");return null!=r&&(this._source=e.source,(null==r?void 0:r.has_updates)!==!0||(this._rawValues=e.data,this._lcut=r.time,this._receivedAt=e.receivedAt,this._values=r,this._bootstrapMetadata=this._extractBootstrapMetadata(e.source,r),e.source&&r.user&&this._setWarningState(t,r),n.SDKFlags.setFlags(this._sdkKey,null!==(i=r.sdk_flags)&&void 0!==i?i:{}),!0))}getWarnings(){if(0!==this._warnings.size)return Array.from(this._warnings)}getGate(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.feature_gates,e)}getConfig(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.dynamic_configs,e)}getConfigList(){var e;return(null===(e=this._values)||void 0===e?void 0:e.dynamic_configs)?Object.values(this._values.dynamic_configs).map(e=>e.name):[]}getLayer(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.layer_configs,e)}getParamStore(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.param_stores,e)}getSource(){return this._source}getExposureMapping(){var e;return null===(e=this._values)||void 0===e?void 0:e.exposures}_extractBootstrapMetadata(e,t){if("Bootstrap"!==e)return null;let i={};return t.user&&(i.user=t.user),t.sdkInfo&&(i.generatorSDKInfo=t.sdkInfo),i.lcut=t.time,i}_getDetailedStoreResult(e,t){let i=null;return e&&(i=e[t]?e[t]:e[(0,n._DJB2)(t)]),{result:i,details:this._getDetails(null==i)}}_setWarningState(e,t){var i,r;let s=n.StableID.get(this._sdkKey);if((null===(i=e.customIDs)||void 0===i?void 0:i.stableID)!==s&&((null===(r=e.customIDs)||void 0===r?void 0:r.stableID)||s)){this._warnings.add("StableIDMismatch");return}if("user"in t){let o=t.user,a=Object.assign(Object.assign({},e),{analyticsOnlyMetadata:void 0,privateAttributes:void 0});(0,n._getFullUserHash)(a)!==(0,n._getFullUserHash)(o)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if("Uninitialized"===this._source||"NoValues"===this._source)return{reason:this._source};let e={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(e.warnings=Array.from(this._warnings)),e}_getDetails(e){var t,i;let n=this.getCurrentSourceDetails(),r=n.reason,s=null!==(t=n.warnings)&&void 0!==t?t:[];"Bootstrap"===this._source&&s.length>0&&(r+=s[0]),"Uninitialized"!==r&&"NoValues"!==r&&(r=`${r}:${e?"Unrecognized":"Recognized"}`);let o="Bootstrap"===this._source&&null!==(i=this._bootstrapMetadata)&&void 0!==i?i:void 0;return o&&(n.bootstrapMetadata=o),Object.assign(Object.assign({},n),{reason:r})}}},70226:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let r=i(13328),s=i(33815);class o extends r.NetworkCore{constructor(e,t){super(e,t);let i=null==e?void 0:e.networkConfig;this._option=e,this._initializeUrlConfig=new r.UrlConfiguration(r.Endpoint._initialize,null==i?void 0:i.initializeUrl,null==i?void 0:i.api,null==i?void 0:i.initializeFallbackUrls)}fetchEvaluations(e,t,i,s,o){return n(this,void 0,void 0,function*(){var n,a,l,u,c,d;let g=t?(0,r._typedJsonParse)(t,"has_updates","InitializeResponse"):null,h={user:s,hash:null!==(l=null===(a=null===(n=this._option)||void 0===n?void 0:n.networkConfig)||void 0===a?void 0:a.initializeHashAlgorithm)&&void 0!==l?l:"djb2",deltasResponseRequested:!1,full_checksum:null};if(null==g?void 0:g.has_updates){let _=(null==g?void 0:g.hash_used)!==(null!==(d=null===(c=null===(u=this._option)||void 0===u?void 0:u.networkConfig)||void 0===c?void 0:c.initializeHashAlgorithm)&&void 0!==d?d:"djb2");h=Object.assign(Object.assign({},h),{sinceTime:o&&!_?g.time:0,previousDerivedFields:"derived_fields"in g&&o?g.derived_fields:{},deltasResponseRequested:!0,full_checksum:g.full_checksum,partialUserMatchSinceTime:_?0:g.time})}return this._fetchEvaluations(e,g,h,i)})}_fetchEvaluations(e,t,i,r){return n(this,void 0,void 0,function*(){var n,o;let a=yield this.post({sdkKey:e,urlConfig:this._initializeUrlConfig,data:i,retries:2,isStatsigEncodable:!0,priority:r});if((null==a?void 0:a.code)===204)return'{"has_updates": false}';if((null==a?void 0:a.code)!==200)return null!==(n=null==a?void 0:a.body)&&void 0!==n?n:null;if((null==t?void 0:t.has_updates)!==!0||(null===(o=a.body)||void 0===o?void 0:o.includes('"is_delta":true'))!==!0||!0!==i.deltasResponseRequested)return a.body;let l=(0,s._resolveDeltasResponse)(t,a.body);return"string"==typeof l?l:this._fetchEvaluations(e,t,Object.assign(Object.assign(Object.assign({},i),l),{deltasResponseRequested:!1}),r)})}}t.default=o},50866:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._makeParamStoreGetter=void 0;let n=i(13328),r={disableExposureLog:!0};function s(e){return null==e||!1===e.disableExposureLog}function o(e,t){return null!=t&&!(0,n._isTypeMatch)(e,t)}t._makeParamStoreGetter=function(e,t,i){return(a,l)=>{if(null==t)return l;let u=t[a];if(null==u||null!=l&&(0,n._typeOf)(l)!==u.param_type)return l;switch(u.ref_type){case"static":return u.value;case"gate":return function(e,t,i){let n=e.getFeatureGate(t.gate_name,s(i)?void 0:r);return n.value?t.pass_value:t.fail_value}(e,u,i);case"dynamic_config":return function(e,t,i,n){let a=e.getDynamicConfig(t.config_name,s(n)?void 0:r),l=a.get(t.param_name);return o(l,i)?i:l}(e,u,l,i);case"experiment":return function(e,t,i,n){let a=e.getExperiment(t.experiment_name,s(n)?void 0:r),l=a.get(t.param_name);return o(l,i)?i:l}(e,u,l,i);case"layer":return function(e,t,i,n){let a=e.getLayer(t.layer_name,s(n)?void 0:r),l=a.get(t.param_name);return o(l,i)?i:l}(e,u,l,i);default:return l}}}},74620:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let r=i(13328),s=i(44228),o=i(70226),a=i(50866),l=i(95231);class u extends r.StatsigClientBase{static instance(e){let t=(0,r._getStatsigGlobal)().instance(e);return t instanceof u?t:(r.Log.warn((0,r._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new u(null!=e?e:"",{}))}constructor(e,t,i=null){var n,a;r.SDKType._setClientType(e,"javascript-client");let u=new o.default(i,e=>{this.$emt(e)});super(e,null!==(n=null==i?void 0:i.dataAdapter)&&void 0!==n?n:new l.StatsigEvaluationsDataAdapter,u,i),this._possibleFirstTouchMetadata={},this.getFeatureGate=this._memoize(r.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(r.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(r.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getConfigList=this._memoize(r.MemoPrefix._configList,this._getConfigListImpl.bind(this)),this.getLayer=this._memoize(r.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(r.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new s.default(e),this._network=u,this._user=this._configureUser(t,i),this._sdkInstanceID=(0,r.getUUID)();let c=null!==(a=null==i?void 0:i.plugins)&&void 0!==a?a:[];for(let d of c)d.bind(this)}initializeSync(e){var t;return"Uninitialized"!==this.loadingStatus?(0,r.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...null!==(t=this._store.getWarnings())&&void 0!==t?t:[]]):(this._logger.start(),this.updateUserSync(this._user,e))}initializeAsync(e){return n(this,void 0,void 0,function*(){return this._initializePromise||(this._initializePromise=this._initializeAsyncImpl(e)),this._initializePromise})}updateUserSync(e,t){let i=performance.now();try{return this._updateUserSyncImpl(e,t,i)}catch(r){let n=r instanceof Error?r:Error(String(r));return this._createErrorUpdateDetails(n,i)}}_updateUserSyncImpl(e,t,i){var n;let s=[...null!==(n=this._store.getWarnings())&&void 0!==n?n:[]];this._resetForUser(e);let o=this.dataAdapter.getDataSync(this._user);null==o&&s.push("NoCachedValues"),this._store.setValues(o,this._user),this._finalizeUpdate(o);let a=null==t?void 0:t.disableBackgroundCacheRefresh;return!0===a||null==a&&(null==o?void 0:o.source)==="Bootstrap"||this._runPostUpdate(null!=o?o:null,this._user),(0,r.createUpdateDetails)(!0,this._store.getSource(),performance.now()-i,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),s)}updateUserAsync(e,t){return n(this,void 0,void 0,function*(){let i=performance.now();try{return yield this._updateUserAsyncImpl(e,t)}catch(r){let n=r instanceof Error?r:Error(String(r));return this._createErrorUpdateDetails(n,i)}})}_updateUserAsyncImpl(e,t){return n(this,void 0,void 0,function*(){this._resetForUser(e);let i=this._user;r.Diagnostics._markInitOverallStart(this._sdkKey);let n=this.dataAdapter.getDataSync(i);if(this._store.setValues(n,this._user),this._setStatus("Loading",n),n=yield this.dataAdapter.getDataAsync(n,i,t),i!==this._user)return(0,r.createUpdateDetails)(!1,this._store.getSource(),-1,Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let s=!1;null!=n&&(r.Diagnostics._markInitProcessStart(this._sdkKey),s=this._store.setValues(n,this._user),r.Diagnostics._markInitProcessEnd(this._sdkKey,{success:s})),this._finalizeUpdate(n),s||(this._errorBoundary.attachErrorIfNoneExists(r.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),r.Diagnostics._markInitOverallEnd(this._sdkKey,s,this._store.getCurrentSourceDetails());let o=r.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,r.createUpdateDetails)(s,this._store.getSource(),o,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:r.StatsigSession.get(this._sdkKey),stableID:r.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}checkGate(e,t){return this.getFeatureGate(e,t).value}logEvent(e,t,i){let n="string"==typeof e?{eventName:e,value:t,metadata:i}:e;this.$emt({name:"log_event_called",event:n}),this._logger.enqueue(Object.assign(Object.assign({},n),{user:this._user,time:Date.now()}))}updateUserWithAnalyticsOnlyMetadata(e){this._user=this._configureUser(Object.assign(Object.assign({},this._user),{analyticsOnlyMetadata:e}),this._options)}_primeReadyRipcord(){this.$on("error",()=>{"Loading"===this.loadingStatus&&this._finalizeUpdate(null)})}_initializeAsyncImpl(e){return n(this,void 0,void 0,function*(){return r.Storage.isReady()||(yield r.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,e)})}_createErrorUpdateDetails(e,t){var i;return(0,r.createUpdateDetails)(!1,this._store.getSource(),performance.now()-t,e,null,[...null!==(i=this._store.getWarnings())&&void 0!==i?i:[]])}_finalizeUpdate(e){this._store.finalize(),this._setStatus("Ready",e)}_runPostUpdate(e,t){this.dataAdapter.getDataAsync(e,t,{priority:"low"}).catch(e=>{r.Log.error("An error occurred after update.",e)})}_resetForUser(e){this._logger.reset(),this._store.reset(),this._user=this._configureUser(e,this._options)}_configureUser(e,t){var i;let n=(0,r._normalizeUser)(e,t),s=null===(i=n.customIDs)||void 0===i?void 0:i.stableID;return s&&r.StableID.setOverride(s,this._sdkKey),Object.keys(this._possibleFirstTouchMetadata).length>0&&(n.analyticsOnlyMetadata=Object.assign(Object.assign({},n.analyticsOnlyMetadata),this._possibleFirstTouchMetadata)),n}_getFeatureGateImpl(e,t){var i,n;let{result:s,details:o}=this._store.getGate(e),a=(0,r._makeFeatureGate)(e,o,s),l=null===(n=null===(i=this.overrideAdapter)||void 0===i?void 0:i.getGateOverride)||void 0===n?void 0:n.call(i,a,this._user,t),u=null!=l?l:a;return this._enqueueExposure(e,(0,r._createGateExposure)(this._user,u,this._store.getExposureMapping()),t),this.$emt({name:"gate_evaluation",gate:u}),u}_getDynamicConfigImpl(e,t){var i,n;let{result:s,details:o}=this._store.getConfig(e),a=(0,r._makeDynamicConfig)(e,o,s),l=null===(n=null===(i=this.overrideAdapter)||void 0===i?void 0:i.getDynamicConfigOverride)||void 0===n?void 0:n.call(i,a,this._user,t),u=null!=l?l:a;return this._enqueueExposure(e,(0,r._createConfigExposure)(this._user,u,this._store.getExposureMapping()),t),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:u}),u}_getExperimentImpl(e,t){var i,n,s,o;let{result:a,details:l}=this._store.getConfig(e),u=(0,r._makeExperiment)(e,l,a);null!=u.__evaluation&&(u.__evaluation.secondary_exposures=(0,r._mapExposures)(null!==(n=null===(i=u.__evaluation)||void 0===i?void 0:i.secondary_exposures)&&void 0!==n?n:[],this._store.getExposureMapping()));let c=null===(o=null===(s=this.overrideAdapter)||void 0===s?void 0:s.getExperimentOverride)||void 0===o?void 0:o.call(s,u,this._user,t),d=null!=c?c:u;return this._enqueueExposure(e,(0,r._createConfigExposure)(this._user,d,this._store.getExposureMapping()),t),this.$emt({name:"experiment_evaluation",experiment:d}),d}_getConfigListImpl(){return this._store.getConfigList()}_getLayerImpl(e,t){var i,n,s;let{result:o,details:a}=this._store.getLayer(e),l=(0,r._makeLayer)(e,a,o),u=null===(n=null===(i=this.overrideAdapter)||void 0===i?void 0:i.getLayerOverride)||void 0===n?void 0:n.call(i,l,this._user,t);(null==t?void 0:t.disableExposureLog)&&this._logger.incrementNonExposureCount(e);let c=(0,r._mergeOverride)(l,u,null!==(s=null==u?void 0:u.__value)&&void 0!==s?s:l.__value,i=>{null!=t&&t.disableExposureLog||this._enqueueExposure(e,(0,r._createLayerParameterExposure)(this._user,c,i,this._store.getExposureMapping()),t)});return this.$emt({name:"layer_evaluation",layer:c}),c}_getParameterStoreImpl(e,t){var i,n;let{result:r,details:s}=this._store.getParamStore(e);this._logger.incrementNonExposureCount(e);let o={name:e,details:s,__configuration:r,get:(0,a._makeParamStoreGetter)(this,r,t)},l=null===(n=null===(i=this.overrideAdapter)||void 0===i?void 0:i.getParamStoreOverride)||void 0===n?void 0:n.call(i,o,t);return null!=l&&(o.__configuration=l.config,o.details=l.details,o.get=(0,a._makeParamStoreGetter)(this,l.config,t)),o}}t.default=u},95231:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigEvaluationsDataAdapter=void 0;let r=i(13328),s=i(70226);class o extends r.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(e,t,i){super.attach(e,t,i),null!==i&&i instanceof s.default?this._network=i:this._network=new s.default(null!=t?t:{})}getDataAsync(e,t,i){return this._getDataAsyncImpl(e,(0,r._normalizeUser)(t,this._options),i)}prefetchData(e,t){return this._prefetchDataImpl(e,t)}setData(e){let t=(0,r._typedJsonParse)(e,"has_updates","data");t&&"user"in t?super.setData(e,t.user):r.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(e,t){super.setData(e,t)}_fetchFromNetwork(e,t,i,r){return n(this,void 0,void 0,function*(){var n;let s=yield null===(n=this._network)||void 0===n?void 0:n.fetchEvaluations(this._getSdkKey(),e,null==i?void 0:i.priority,t,r);return null!=s?s:null})}_getCacheKey(e){var t;let i=(0,r._getStorageKey)(this._getSdkKey(),e,null===(t=this._options)||void 0===t?void 0:t.customUserCacheKeyFunc);return`${r.DataAdapterCachePrefix}.${this._cacheSuffix}.${i}`}_isCachedResultValidFor204(e,t){return null!=e.fullUserHash&&e.fullUserHash===(0,r._getFullUserHash)(t)}}t.StatsigEvaluationsDataAdapter=o},90250:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigClient=void 0;let s=i(13328),o=i(74620);t.StatsigClient=o.default,r(i(13328),t);let a=Object.assign((0,s._getStatsigGlobal)(),{StatsigClient:o.default});t.default=a},87276:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNoopClient=t.NoopEvaluationsClient=void 0;let n=i(13328),r={success:!1,error:Error("NoClient"),duration:0,source:"Uninitialized",sourceUrl:null},s=()=>{},o=()=>Promise.resolve(),a=()=>Promise.resolve(r),l={reason:"Error:NoClient"},u=e=>(...t)=>{let i="string"==typeof t[0]?t[0]:t[1];switch(e){case"gate":return(0,n._makeFeatureGate)(i,l,null);case"config":return(0,n._makeDynamicConfig)(i,l,null);case"layer":return(0,n._makeLayer)(i,l,null);case"param_store":return{name:i}}},c={sdkKey:"",options:{},values:null,user:{userID:""},errorBoundary:{},session:{data:{sessionID:"",startTime:0,lastUpdate:0},sdkKey:""},stableID:"",storageProvider:n.Storage,sdkInstanceID:""},d={isNoop:!0,loadingStatus:"Uninitialized",initializeSync:()=>r,initializeAsync:a,shutdown:o,flush:o,updateRuntimeOptions:s,updateUserSync:()=>r,updateUserAsync:a,getContext:()=>Object.assign({},c),checkGate:()=>!1,getFeatureGate:u("gate"),getDynamicConfig:u("config"),getExperiment:u("config"),getLayer:u("layer"),getParameterStore:u("param_store"),logEvent:s,on:s,off:s,$on:s,$emt:s,dataAdapter:{attach:s,getDataSync:()=>null,getDataAsync:()=>Promise.resolve(null),setData:s,setDataLegacy:s,prefetchData:o}};t.NoopEvaluationsClient=d,t.isNoopClient=function(e){return"isNoop"in e}},77481:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i(67294),r=i(87276);t.default=(0,n.createContext)({renderVersion:0,client:r.NoopEvaluationsClient,isLoading:!0})},59793:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigProvider=void 0;let n=i(85893),r=i(67294),s=i(13328),o=i(77481),a=i(96392);function l(e){let[t,i]=(0,r.useState)(0),s=(0,a.useClientAsyncInit)(e.sdkKey,e.user,e.options).client,[l,u]=(0,r.useState)(!d(s));c(s,i,u);let g=(0,r.useMemo)(()=>({renderVersion:t,client:s,isLoading:l}),[t,s,l]);return(0,n.jsx)(o.default.Provider,{value:g,children:null!=e.loadingComponent&&g.isLoading?e.loadingComponent:e.children})}function u(e){let[t,i]=(0,r.useState)(0),s=e.client,[a,l]=(0,r.useState)(!d(s));c(s,i,l);let u=(0,r.useMemo)(()=>({renderVersion:t,client:s,isLoading:a}),[t,s,a]);return(0,n.jsx)(o.default.Provider,{value:u,children:null!=e.loadingComponent&&u.isLoading?e.loadingComponent:e.children})}function c(e,t,i){(0,r.useEffect)(()=>{let n=()=>{t(e=>e+1),i(!d(e))};return s.SDKType._setBindingType("react"),e.$on("values_updated",n),()=>{e.flush().catch(e=>s.Log.error("An error occurred during flush",e)),e.off("values_updated",n)}},[e,t])}function d(e){return"isNoop"in e||"Ready"===e.loadingStatus}t.StatsigProvider=function(e){return"client"in e?(("sdkKey"in e||"user"in e)&&s.Log.warn("Both client and configuration props (sdkKey, user) were provided to StatsigProvider. The client prop will be used and the configuration props will be ignored."),(0,n.jsx)(u,Object.assign({},e))):(0,n.jsx)(l,Object.assign({},e))}},89211:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.useStatsigUser=t.useStatsigInternalClientFactoryBootstrap=t.useStatsigInternalClientFactoryAsync=t.useStatsigClient=t.useParameterStore=t.useLayer=t.useGateValue=t.useFeatureGate=t.useExperiment=t.useDynamicConfig=t.useClientBootstrapInit=t.useClientAsyncInit=t.StatsigProvider=t.StatsigContext=void 0;let s=i(13328),o=i(77481);t.StatsigContext=o.default;let a=i(59793);Object.defineProperty(t,"StatsigProvider",{enumerable:!0,get:function(){return a.StatsigProvider}});let l=i(96392);Object.defineProperty(t,"useClientAsyncInit",{enumerable:!0,get:function(){return l.useClientAsyncInit}});let u=i(88740);Object.defineProperty(t,"useClientBootstrapInit",{enumerable:!0,get:function(){return u.useClientBootstrapInit}});let c=i(94357);t.useDynamicConfig=c.default;let d=i(72246);t.useExperiment=d.default;let g=i(54027);t.useFeatureGate=g.default;let h=i(90215);t.useGateValue=h.default;let _=i(42494);t.useLayer=_.default;let f=i(94054);t.useParameterStore=f.default;let p=i(37554);Object.defineProperty(t,"useStatsigClient",{enumerable:!0,get:function(){return p.useStatsigClient}});let v=i(56085);Object.defineProperty(t,"useStatsigInternalClientFactoryAsync",{enumerable:!0,get:function(){return v.useStatsigInternalClientFactoryAsync}});let m=i(2982);Object.defineProperty(t,"useStatsigInternalClientFactoryBootstrap",{enumerable:!0,get:function(){return m.useStatsigInternalClientFactoryBootstrap}});let y=i(2017);Object.defineProperty(t,"useStatsigUser",{enumerable:!0,get:function(){return y.useStatsigUser}}),r(i(90250),t),Object.assign((0,s._getStatsigGlobal)(),{StatsigContext:o.default,StatsigProvider:a.StatsigProvider,useClientAsyncInit:l.useClientAsyncInit,useClientBootstrapInit:u.useClientBootstrapInit,useDynamicConfig:c.default,useExperiment:d.default,useFeatureGate:g.default,useGateValue:h.default,useLayer:_.default,useParameterStore:f.default,useStatsigClient:p.useStatsigClient,useStatsigInternalClientFactoryAsync:v.useStatsigInternalClientFactoryAsync,useStatsigInternalClientFactoryBootstrap:m.useStatsigInternalClientFactoryBootstrap,useStatsigUser:y.useStatsigUser})},96392:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useClientAsyncInit=void 0;let n=i(90250),r=i(56085);t.useClientAsyncInit=function(e,t,i=null){return(0,r.useStatsigInternalClientFactoryAsync)(e=>new n.StatsigClient(e.sdkKey,e.initialUser,e.statsigOptions),{sdkKey:e,initialUser:t,statsigOptions:i})}},88740:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useClientBootstrapInit=void 0;let n=i(90250),r=i(2982);t.useClientBootstrapInit=function(e,t,i,s=null,o){return(0,r.useStatsigInternalClientFactoryBootstrap)(e=>new n.StatsigClient(e.sdkKey,e.initialUser,e.statsigOptions),{sdkKey:e,initialUser:t,initialValues:i,statsigOptions:s,useLegacyFormat:o})}},94357:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i(67294),r=i(13328),s=i(87276),o=i(77481);t.default=function(e,t){let{client:i,renderVersion:a}=(0,n.useContext)(o.default);return(0,n.useMemo)(()=>(0,s.isNoopClient)(i)?(r.Log.warn(`useDynamicConfig hook failed to find a valid StatsigClient for dynamic config '${e}'.`),s.NoopEvaluationsClient.getDynamicConfig(e,t)):i.getDynamicConfig(e,t),[e,i,a,...t?Object.values(t):[]])}},72246:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i(67294),r=i(13328),s=i(87276),o=i(77481);t.default=function(e,t){let{client:i,renderVersion:a}=(0,n.useContext)(o.default);return(0,n.useMemo)(()=>(0,s.isNoopClient)(i)?(r.Log.warn(`useExperiment hook failed to find a valid Statsig client for experiment '${e}'.`),s.NoopEvaluationsClient.getExperiment(e,t)):i.getExperiment(e,t),[e,i,a,...t?Object.values(t):[]])}},54027:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i(67294),r=i(13328),s=i(87276),o=i(77481);t.default=function(e,t){let{client:i,renderVersion:a}=(0,n.useContext)(o.default),l=(0,n.useMemo)(()=>(0,s.isNoopClient)(i)?(r.Log.warn(`useFeatureGate hook failed to find a valid StatsigClient for gate '${e}'.`),s.NoopEvaluationsClient.getFeatureGate(e,t)):i.getFeatureGate(e,t),[e,i,a,...t?Object.values(t):[]]);return l}},90215:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i(67294),r=i(13328),s=i(87276),o=i(77481);t.default=function(e,t){let{client:i,renderVersion:a}=(0,n.useContext)(o.default),l=(0,n.useMemo)(()=>(0,s.isNoopClient)(i)?(r.Log.warn(`useGateValue hook failed to find a valid StatsigClient for gate '${e}'.`),s.NoopEvaluationsClient.checkGate(e,t)):i.checkGate(e,t),[e,i,a,...t?Object.values(t):[]]);return l}},42494:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i(67294),r=i(13328),s=i(87276),o=i(77481);t.default=function(e,t){let{client:i,renderVersion:a}=(0,n.useContext)(o.default),l=(0,n.useMemo)(()=>(0,s.isNoopClient)(i)?(r.Log.warn(`useLayer hook failed to find a valid Statsig client for layer '${e}'.`),s.NoopEvaluationsClient.getLayer(e,t)):i.getLayer(e,t),[e,i,a,...t?Object.values(t):[]]);return l}},94054:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i(67294),r=i(13328),s=i(87276),o=i(77481);t.default=function(e,t){let{client:i,renderVersion:a}=(0,n.useContext)(o.default),l=(0,n.useMemo)(()=>(0,s.isNoopClient)(i)?(r.Log.warn(`useParameterStore hook failed to find a valid StatsigClient for parameter store '${e}'.`),s.NoopEvaluationsClient.getParameterStore(e,t)):i.getParameterStore(e,t),[e,i,a,...t?Object.values(t):[]]);return l}},37554:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStatsigClient=void 0;let n=i(67294),r=i(13328),s=i(87276),o=i(77481);t.useStatsigClient=function(){let{client:e,renderVersion:t,isLoading:i}=(0,n.useContext)(o.default),a=(0,n.useMemo)(()=>(0,s.isNoopClient)(e)?(r.Log.warn("Attempting to retrieve a StatsigClient but none was set."),s.NoopEvaluationsClient):e,[e,t]),l=[a,t],u=(0,n.useCallback)((e,t)=>a.checkGate(e,t),l),c=(0,n.useCallback)((e,t)=>a.getFeatureGate(e,t),l),d=(0,n.useCallback)((e,t)=>a.getDynamicConfig(e,t),l),g=(0,n.useCallback)((e,t)=>a.getExperiment(e,t),l),h=(0,n.useCallback)((e,t)=>a.getLayer(e,t),l),_=(0,n.useCallback)((e,t)=>a.getParameterStore(e,t),l),f=(0,n.useCallback)((e,t,i)=>"string"==typeof e?a.logEvent(e,t,i):a.logEvent(e),l);return(0,n.useMemo)(()=>({client:a,checkGate:u,getFeatureGate:c,getDynamicConfig:d,getExperiment:g,getLayer:h,getParameterStore:_,logEvent:f,isLoading:i}),[a,u,c,d,g,h,_,f,i])}},56085:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStatsigInternalClientFactoryAsync=void 0;let n=i(67294),r=i(13328);t.useStatsigInternalClientFactoryAsync=function(e,t){let i=(0,n.useMemo)(()=>{var i;return null!==(i=(0,r._getInstance)(t.sdkKey))&&void 0!==i?i:e(t)},[]),[s,o]=(0,n.useState)("Ready"!==i.loadingStatus);return(0,n.useMemo)(()=>{"Ready"!==i.loadingStatus&&i.initializeAsync().catch(r.Log.error).finally(()=>o(!1))},[]),{client:i,isLoading:s}}},2982:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStatsigInternalClientFactoryBootstrap=void 0;let n=i(67294),r=i(13328);t.useStatsigInternalClientFactoryBootstrap=function(e,t){let i=(0,n.useRef)((0,r._getInstance)(t.sdkKey));return(0,n.useMemo)(()=>{if(i.current)return i.current;let n=e(t);return i.current=n,t.useLegacyFormat?n.dataAdapter.setDataLegacy(t.initialValues,t.initialUser):n.dataAdapter.setData(t.initialValues),n.initializeSync(),n},[])}},2017:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStatsigUser=void 0;let n=i(67294),r=i(77481),s=i(37554);function o(e){let t=e.getContext();return t.user}t.useStatsigUser=function(){let{client:e}=(0,s.useStatsigClient)(),{renderVersion:t}=(0,n.useContext)(r.default),i=(0,n.useMemo)(()=>o(e),[e,t]);return{user:i,updateUserSync:(0,n.useCallback)(t=>("function"==typeof t&&(t=t(o(e))),e.updateUserSync(t)),[e]),updateUserAsync:(0,n.useCallback)(t=>("function"==typeof t&&(t=t(o(e))),e.updateUserAsync(t)),[e])}}},6085:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionReplay=t.runStatsigSessionReplay=t.StatsigSessionReplayPlugin=void 0;let n=i(13328),r=i(31229),s=i(76553);function o(e,t){new a(e,t)}t.StatsigSessionReplayPlugin=class{constructor(e){this.options=e,this.__plugin="session-replay"}bind(e){o(e,this.options)}},t.runStatsigSessionReplay=o;class a extends r.SessionReplayBase{constructor(e,t){var i;super(e,t),this._client.$on("values_updated",()=>{var e;this._wasStopped||this._attemptToStartRecording(null===(e=this._options)||void 0===e?void 0:e.forceRecording)}),this._attemptToStartRecording(null===(i=this._options)||void 0===i?void 0:i.forceRecording)}_shutdown(e){super._shutdownImpl(e)}_attemptToStartRecording(e=!1){var t,i;if(this._totalLogs>=s.MAX_LOGS)return;let r=this._client.getContext().values;if((null==r?void 0:r.recording_blocked)===!0||!e&&(null==r?void 0:r.can_record_session)!==!0||(null==r?void 0:r.passes_session_recording_targeting)===!1){this._shutdown();return}this._replayer.isRecording()||(this._wasStopped=!1,n.StatsigMetadataProvider.add({isRecordingSession:"true"}),this._replayer.record((e,t)=>this._onRecordingEvent(e,t),null!==(i=null===(t=this._options)||void 0===t?void 0:t.rrwebConfig)&&void 0!==i?i:{},()=>{this._shutdown()}))}}t.SessionReplay=a},31229:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionReplayBase=t.forceStartRecording=t.startRecording=t.stopRecording=void 0;let n=i(13328),r=i(74066),s=i(76553);function o(e){var t,i;let r=null==e?(0,n._getStatsigGlobal)().firstSRInstance:null===(i=null===(t=(0,n._getStatsigGlobal)())||void 0===t?void 0:t.srInstances)||void 0===i?void 0:i[e];return r instanceof a?r:null}t.stopRecording=function(e){var t;null===(t=o(e))||void 0===t||t.stopRecording()},t.startRecording=function(e){var t;null===(t=o(e))||void 0===t||t.startRecording()},t.forceStartRecording=function(e){var t;null===(t=o(e))||void 0===t||t.forceStartRecording()};class a{constructor(e,t){this._sessionData={startTime:-1,endTime:0,clickCount:0},this._events=[],this._wasStopped=!1,this._currentEventIndex=0,this._totalLogs=0,this._client=e,this._options=t;let{sdkKey:i,errorBoundary:s}=this._client.getContext();if(this._errorBoundary=s,this._errorBoundary.wrap(this),this._replayer=new r.SessionReplayClient,this._client.$on("pre_shutdown",()=>this._shutdown()),this._client.on("session_expired",()=>{this._shutdown("session_expired")}),!(0,n._isServerEnv)()){let o=(0,n._getStatsigGlobal)();o.srInstances=Object.assign(Object.assign({},o.srInstances),{[i]:this}),o.firstSRInstance||(o.firstSRInstance=this)}this._currentSessionID=this._getSessionIdFromClient(),this._subscribeToVisibilityChanged()}forceStartRecording(){this._wasStopped=!1,this._attemptToStartRecording(!0)}stopRecording(){this._wasStopped=!0,this._shutdown()}startRecording(){var e;this._wasStopped=!1,this._attemptToStartRecording(null===(e=this._options)||void 0===e?void 0:e.forceRecording)}isRecording(){return this._replayer.isRecording()}_logRecording(e){0!==this._events.length&&(e=(0,n._isUnloading)()?"is_leaving_page":e,this._logRecordingWithSessionID(this._currentSessionID,e))}_onVisibilityChanged(e){"background"===e&&(this._logRecording(),this._client.flush().catch(e=>{this._errorBoundary.logError("SR::visibility",e)}))}_subscribeToVisibilityChanged(){let{sdkKey:e}=this._client.getContext();(0,n._subscribeToVisiblityChanged)(t=>{var i,r;let s=null===(r=null===(i=(0,n._getStatsigGlobal)())||void 0===i?void 0:i.srInstances)||void 0===r?void 0:r[e];s instanceof a&&s._onVisibilityChanged(t)})}_logRecordingWithSessionID(e,t){let i=this._sessionData;if(0===this._events.length)return;let r=JSON.stringify(this._events),o=(0,s._slicePayload)(r),a=o.length>1?(0,n.getUUID)():null;for(let l=0;l<o.length;l++){let u=o[l],c=(0,s._makeLoggableRrwebEvent)(u,r,e,i,this._client.getContext().sdkInstanceID);null!=a&&(0,s._appendSlicedMetadata)(c.metadata,a,l,o.length,u.length),t&&(c.metadata[t]="true"),this._totalLogs++,this._client.logEvent(c),null!=a&&this._client.flush().catch(e=>{n.Log.error(e)})}this._events=[],this._totalLogs>s.MAX_LOGS&&this._shutdown()}_bumpSessionIdleTimerAndLogRecording(){this._getSessionIdFromClient(),this._logRecording()}_getSessionIdFromClient(){return this._client.getContext().session.data.sessionID}_shutdownImpl(e){if(this._replayer.isRecording()){this._replayer.stop();let t=()=>{n.StatsigMetadataProvider.add({isRecordingSession:"false"}),this._client.off("logs_flushed",t)};this._client.$on("logs_flushed",t)}if(0===this._events.length){"session_expired"===e&&(this._currentEventIndex=0,this._sessionData=this._makeEmptySessionData());return}this._logRecording(e),"session_expired"===e&&(this._currentEventIndex=0,this._sessionData=this._makeEmptySessionData())}_makeEmptySessionData(){return{startTime:-1,endTime:0,clickCount:0}}_onRecordingEvent(e,t){if(this._currentSessionID!==this._getSessionIdFromClient()){this._shutdown("session_expired");return}if(this._totalLogs>=s.MAX_LOGS){this._shutdown();return}e.eventIndex=this._currentEventIndex++,this._sessionData.clickCount+=t.clickCount,this._sessionData.startTime=-1===this._sessionData.startTime?t.startTime:Math.min(this._sessionData.startTime,t.startTime),this._sessionData.endTime=Math.max(this._sessionData.endTime,t.endTime);let i=(0,n._fastApproxSizeOf)(e,s.MAX_INDIVIDUAL_EVENT_BYTES);if(i>s.MAX_INDIVIDUAL_EVENT_BYTES){n.Log.warn(`SessionReplay event is too large (~${i} bytes) and will not be logged`,e);return}let r=(0,n._fastApproxSizeOf)(this._events,s.REPLAY_ENQUEUE_TRIGGER_BYTES);this._events.push(e),r+i<s.REPLAY_ENQUEUE_TRIGGER_BYTES||((0,n._isCurrentlyVisible)()?this._bumpSessionIdleTimerAndLogRecording():this._logRecording())}}t.SessionReplayBase=a},74066:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionReplayClient=void 0;let n=i(25761),r=i(13328);t.SessionReplayClient=class{constructor(){this._startTimestamp=null,this._endTimestamp=null}record(e,t,i,s=!1){if(null==(0,r._getDocumentSafe)()||(this._startTimestamp=null,this._endTimestamp=null,this._stopCallback=i,this._stopFn))return;let o=(t,i)=>{var n,r,o;s?this._startTimestamp=i?t.timestamp:null!==(n=this._startTimestamp)&&void 0!==n?n:t.timestamp:null!==(r=this._startTimestamp)&&void 0!==r||(this._startTimestamp=t.timestamp),this._endTimestamp=t.timestamp;let a=0;3===t.type&&2===t.data.source&&(2===t.data.type||4===t.data.type)&&a++,e(Object.assign(Object.assign({},t),{eventIndex:0}),{startTime:this._startTimestamp,endTime:this._endTimestamp,clickCount:a},null!=i&&i),this._endTimestamp-this._startTimestamp>144e5&&(null===(o=this._stopFn)||void 0===o||o.call(this),this._stopCallback&&this._stopCallback())};this._stopFn=s?(0,n.record)(Object.assign(Object.assign({},t),{emit:o,checkoutEveryNms:3e4})):(0,n.record)(Object.assign(Object.assign({},t),{emit:o}))}stop(){this._stopFn&&(this._stopFn(),this._stopFn=void 0)}isRecording(){return null!=this._stopFn}}},76553:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._appendSlicedMetadata=t._slicePayload=t._makeLoggableRrwebEvent=t.MAX_LOGS=t.MAX_INDIVIDUAL_EVENT_BYTES=t.REPLAY_ENQUEUE_TRIGGER_BYTES=void 0;let n=i(13328);t.REPLAY_ENQUEUE_TRIGGER_BYTES=10240,t.MAX_INDIVIDUAL_EVENT_BYTES=10485760,t.MAX_LOGS=1e4,t._makeLoggableRrwebEvent=function(e,t,i,r,s){let o={session_start_ts:String(r.startTime),session_end_ts:String(r.endTime),clicks_captured_cumulative:String(r.clickCount),rrweb_events:e,rrweb_payload_size:String(t.length),session_replay_sdk_version:n.SDK_VERSION,sdk_instance_id:s};return{eventName:"statsig::session_recording",value:i,metadata:o}},t._slicePayload=function(e){let t=[];for(let i=0;i<e.length;i+=1048576)t.push(e.slice(i,i+1048576));return t},t._appendSlicedMetadata=function(e,t,i,n,r){e.sliced_id=t,e.slice_index=String(i),e.slice_count=String(n),e.slice_byte_size=String(r)}},57951:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TriggeredSessionReplay=t.runStatsigTriggeredSessionReplay=t.StatsigTriggeredSessionReplayPlugin=void 0;let n=i(13328),r=i(31229),s=i(76553);function o(e,t){new a(e,t)}t.StatsigTriggeredSessionReplayPlugin=class{constructor(e){this.options=e,this.__plugin="triggered-session-replay"}bind(e){o(e,this.options)}},t.runStatsigTriggeredSessionReplay=o;class a extends r.SessionReplayBase{constructor(e,t){var i;super(e,t),this._runningEventData=[],this._isActiveRecording=!1,this._subscribeToClientEvents(t),(null==t?void 0:t.autoStartRecording)?this._attemptToStartRecording(null===(i=this._options)||void 0===i?void 0:i.forceRecording):(null==t?void 0:t.keepRollingWindow)&&this._attemptToStartRollingWindow()}_subscribeToClientEvents(e){this._subscribeToValuesUpdated(e),this._subscribeToLogEventCalled(),this._subscribeToGateEvaluation(),this._subscribeToExperimentEvaluation()}_subscribeToValuesUpdated(e){this._client.$on("values_updated",()=>{var t;!this._wasStopped&&((null==e?void 0:e.autoStartRecording)?this._attemptToStartRecording(null===(t=this._options)||void 0===t?void 0:t.forceRecording):(null==e?void 0:e.keepRollingWindow)&&this._attemptToStartRollingWindow())})}_subscribeToLogEventCalled(){this._client.$on("log_event_called",e=>{var t;if(this._wasStopped)return;let i=this._client.getContext().values,n=null==i?void 0:i.passes_session_recording_targeting;if(!1===n||(null==i?void 0:i.session_recording_event_triggers)==null)return;let r=i.session_recording_event_triggers[e.event.eventName];if(null==r||!1===r.passes_sampling)return;let s=r.values;if(null==s||s.includes(String(null!==(t=e.event.value)&&void 0!==t?t:""))){this._attemptToStartRecording(!0);return}})}_subscribeToGateEvaluation(){this._client.$on("gate_evaluation",e=>{this._tryStartExposureRecording(e.gate.name,String(e.gate.value))})}_subscribeToExperimentEvaluation(){this._client.$on("experiment_evaluation",e=>{var t;this._tryStartExposureRecording(e.experiment.name,null!==(t=e.experiment.groupName)&&void 0!==t?t:"")})}_tryStartExposureRecording(e,t){var i;if(this._wasStopped)return;let r=this._client.getContext().values,s=null==r?void 0:r.passes_session_recording_targeting;if(!1===s||(null==r?void 0:r.session_recording_exposure_triggers)==null)return;let o=null!==(i=r.session_recording_exposure_triggers[e])&&void 0!==i?i:r.session_recording_exposure_triggers[(0,n._DJB2)(e)];if(null==o||!1===o.passes_sampling)return;let a=o.values;if(null==a||a.includes(t)){this._attemptToStartRecording(!0);return}}forceStartRecording(){super.forceStartRecording()}stopRecording(){this._isActiveRecording=!1,this._runningEventData=[],super.stopRecording()}_handleStartActiveRecording(){if(this._isActiveRecording=!0,0===this._runningEventData.length)return;let e=this._runningEventData.map(e=>e.events).flat();for(let t=0;t<e.length;t++)e[t].event.eventIndex=t,this._sessionData.clickCount+=e[t].data.clickCount,this._sessionData.startTime=-1===this._sessionData.startTime?e[t].data.startTime:Math.min(this._sessionData.startTime,e[t].data.startTime),this._sessionData.endTime=Math.max(this._sessionData.endTime,e[t].data.endTime);this._events=e.map(e=>e.event),this._currentEventIndex=e.length,(0,n._isCurrentlyVisible)()?this._bumpSessionIdleTimerAndLogRecording():this._logRecording(),this._replayer.stop()}_shutdown(e){this._isActiveRecording=!1,this._runningEventData=[],super._shutdownImpl(e)}_onRecordingEvent(e,t,i){if(!this._isActiveRecording){if(this._currentSessionID!==this._getSessionIdFromClient()){this._shutdown("session_expired");return}i&&4===e.type||0===this._runningEventData.length?(this._runningEventData.length>1&&this._runningEventData.shift(),this._runningEventData.push({events:[{event:e,data:t}]})):this._runningEventData[this._runningEventData.length-1].events.push({event:e,data:t});return}super._onRecordingEvent(e,t)}_attemptToStartRollingWindow(){var e,t;let i=this._client.getContext().values;if((null==i?void 0:i.passes_session_recording_targeting)===!1){this._shutdown();return}this._replayer.isRecording()||this._replayer.record((e,t,i)=>this._onRecordingEvent(e,t,i),null!==(t=null===(e=this._options)||void 0===e?void 0:e.rrwebConfig)&&void 0!==t?t:{},()=>{this._shutdown()},!0)}_attemptToStartRecording(e=!1){var t,i;if(this._totalLogs>=s.MAX_LOGS)return;let r=this._client.getContext().values;if((null==r?void 0:r.recording_blocked)===!0||!e&&(null==r?void 0:r.can_record_session)!==!0||(null==r?void 0:r.passes_session_recording_targeting)===!1){this._shutdown();return}this._handleStartActiveRecording(),this._wasStopped=!1,n.StatsigMetadataProvider.add({isRecordingSession:"true"}),this._replayer.isRecording()||this._replayer.record((e,t,i)=>this._onRecordingEvent(e,t,i),null!==(i=null===(t=this._options)||void 0===t?void 0:t.rrwebConfig)&&void 0!==i?i:{},()=>{this._shutdown()})}}t.TriggeredSessionReplay=a},30909:function(e,t,i){"use strict";t.cb=void 0;let n=i(13328),r=i(6085);Object.defineProperty(t,"cb",{enumerable:!0,get:function(){return r.StatsigSessionReplayPlugin}});let s=i(31229),o=i(74066),a=i(57951);Object.assign((0,n._getStatsigGlobal)(),{SessionReplayClient:o.SessionReplayClient,SessionReplay:r.SessionReplay,runStatsigSessionReplay:r.runStatsigSessionReplay,runStatsigTriggeredSessionReplay:a.runStatsigTriggeredSessionReplay,StatsigSessionReplayPlugin:r.StatsigSessionReplayPlugin,StatsigTriggeredSessionReplayPlugin:a.StatsigTriggeredSessionReplayPlugin,startRecording:s.startRecording,stopRecording:s.stopRecording,forceStartRecording:s.forceStartRecording})},4233:function(e,t){!function(e){"use strict";let t;let i=-1,n=e=>{addEventListener("pageshow",t=>{t.persisted&&(i=t.timeStamp,e(t))},!0)},r=(e,t,i,n)=>{let r,s;return o=>{var a;t.value>=0&&(o||n)&&((s=t.value-(r??0))||void 0===r)&&(r=t.value,t.delta=s,t.rating=(a=t.value)>i[1]?"poor":a>i[0]?"needs-improvement":"good",e(t))}},s=e=>{requestAnimationFrame(()=>requestAnimationFrame(()=>e()))},o=()=>{let e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},a=()=>{let e=o();return e?.activationStart??0},l=(e,t=-1)=>{let n=o(),r="navigate";return i>=0?r="back-forward-cache":n&&(document.prerendering||a()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},u=new WeakMap;function c(e,t){return u.get(e)||u.set(e,new t),u.get(e)}class d{t;i=0;o=[];h(e){if(e.hadRecentInput)return;let t=this.o[0],i=this.o.at(-1);this.i&&t&&i&&e.startTime-i.startTime<1e3&&e.startTime-t.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}}let g=(e,t,i={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let n=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return n.observe({type:e,buffered:!0,...i}),n}}catch{}},h=e=>{let t=!1;return()=>{t||(e(),t=!0)}},_=-1,f=()=>"hidden"!==document.visibilityState||document.prerendering?1/0:0,p=e=>{"hidden"===document.visibilityState&&_>-1&&(_="visibilitychange"===e.type?e.timeStamp:0,m())},v=()=>{addEventListener("visibilitychange",p,!0),addEventListener("prerenderingchange",p,!0)},m=()=>{removeEventListener("visibilitychange",p,!0),removeEventListener("prerenderingchange",p,!0)},y=()=>{if(_<0){let e=a(),t=document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime;_=t??f(),v(),n(()=>{setTimeout(()=>{_=f(),v()})})}return{get firstHiddenTime(){return _}}},b=e=>{document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},S=[1800,3e3],E=(e,t={})=>{b(()=>{let i=y(),o,u=l("FCP"),c=g("paint",e=>{for(let t of e)"first-contentful-paint"===t.name&&(c.disconnect(),t.startTime<i.firstHiddenTime&&(u.value=Math.max(t.startTime-a(),0),u.entries.push(t),o(!0)))});c&&(o=r(e,u,S,t.reportAllChanges),n(i=>{o=r(e,u=l("FCP"),S,t.reportAllChanges),s(()=>{u.value=performance.now()-i.timeStamp,o(!0)})}))})},C=[.1,.25],w=0,k=1/0,T=0,D=e=>{for(let t of e)t.interactionId&&(k=Math.min(k,t.interactionId),w=(T=Math.max(T,t.interactionId))?(T-k)/7+1:0)},O=()=>t?w:performance.interactionCount??0,I=()=>{"interactionCount"in performance||t||(t=g("event",D,{type:"event",buffered:!0,durationThreshold:0}))},P=0;class A{u=[];l=new Map;m;p;v(){P=O(),this.u.length=0,this.l.clear()}T(){let e=Math.min(this.u.length-1,Math.floor((O()-P)/50));return this.u[e]}h(e){if(this.m?.(e),!e.interactionId&&"first-input"!==e.entryType)return;let t=this.u.at(-1),i=this.l.get(e.interactionId);if(i||this.u.length<10||e.duration>t.P){if(i?e.duration>i.P?(i.entries=[e],i.P=e.duration):e.duration===i.P&&e.startTime===i.entries[0].startTime&&i.entries.push(e):(i={id:e.interactionId,entries:[e],P:e.duration},this.l.set(i.id,i),this.u.push(i)),this.u.sort((e,t)=>t.P-e.P),this.u.length>10){let n=this.u.splice(10);for(let r of n)this.l.delete(r.id)}this.p?.(i)}}}let M=e=>{let t=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(e=h(e),document.addEventListener("visibilitychange",e,{once:!0}),t(()=>{e(),document.removeEventListener("visibilitychange",e)}))},L=[200,500];class R{m;h(e){this.m?.(e)}}let U=[2500,4e3],x=[800,1800],j=e=>{document.prerendering?b(()=>j(e)):"complete"!==document.readyState?addEventListener("load",()=>j(e),!0):setTimeout(e)};e.CLSThresholds=C,e.FCPThresholds=S,e.INPThresholds=L,e.LCPThresholds=U,e.TTFBThresholds=x,e.onCLS=(e,t={})=>{E(h(()=>{let i,o=l("CLS",0),a=c(t,d),u=e=>{for(let t of e)a.h(t);a.i>o.value&&(o.value=a.i,o.entries=a.o,i())},h=g("layout-shift",u);h&&(i=r(e,o,C,t.reportAllChanges),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&(u(h.takeRecords()),i(!0))}),n(()=>{a.i=0,i=r(e,o=l("CLS",0),C,t.reportAllChanges),s(()=>i())}),setTimeout(i))}))},e.onFCP=E,e.onINP=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&b(()=>{I();let i,s=l("INP"),o=c(t,A),a=e=>{M(()=>{for(let t of e)o.h(t);let n=o.T();n&&n.P!==s.value&&(s.value=n.P,s.entries=n.entries,i())})},u=g("event",a,{durationThreshold:t.durationThreshold??40});i=r(e,s,L,t.reportAllChanges),u&&(u.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&(a(u.takeRecords()),i(!0))}),n(()=>{o.v(),i=r(e,s=l("INP"),L,t.reportAllChanges)}))})},e.onLCP=(e,t={})=>{b(()=>{let i=y(),o,u=l("LCP"),d=c(t,R),_=e=>{for(let n of(t.reportAllChanges||(e=e.slice(-1)),e))d.h(n),n.startTime<i.firstHiddenTime&&(u.value=Math.max(n.startTime-a(),0),u.entries=[n],o())},f=g("largest-contentful-paint",_);if(f){o=r(e,u,U,t.reportAllChanges);let p=h(()=>{_(f.takeRecords()),f.disconnect(),o(!0)});for(let v of["keydown","click","visibilitychange"])addEventListener(v,()=>M(p),{capture:!0,once:!0});n(i=>{o=r(e,u=l("LCP"),U,t.reportAllChanges),s(()=>{u.value=performance.now()-i.timeStamp,o(!0)})})}})},e.onTTFB=(e,t={})=>{let i=l("TTFB"),s=r(e,i,x,t.reportAllChanges);j(()=>{let u=o();u&&(i.value=Math.max(u.responseStart-a(),0),i.entries=[u],s(!0),n(()=>{(s=r(e,i=l("TTFB",0),x,t.reportAllChanges))(!0)}))})}}(t)},69023:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoCapture=t.runStatsigAutoCapture=t.StatsigAutoCapturePlugin=void 0;let n=i(13328),r=i(35473),s=i(2824),o=i(39896),a=i(63480),l=i(50442),u=i(78325),c=i(12185),d=i(93683),g=i(50614),h={submit:r.AutoCaptureEventName.FORM_SUBMIT,click:r.AutoCaptureEventName.CLICK,copy:r.AutoCaptureEventName.COPY,cut:r.AutoCaptureEventName.COPY};function _(e,t){var i;let{sdkKey:r}=e.getContext();if(!(0,n._isServerEnv)()){let s=(0,n._getStatsigGlobal)(),o=null!==(i=s.acInstances)&&void 0!==i?i:{};if(o[r])return o[r]}return new f(e,t)}t.StatsigAutoCapturePlugin=class{constructor(e){this._options=e,this.__plugin="auto-capture"}bind(e){_(e,this._options)}},t.runStatsigAutoCapture=_;class f{constructor(e,t){var i,r,c,d;this._client=e,this._disabledEvents={},this._previousLoggedPageViewUrl=null,this._hasLoggedPageViewEnd=!1,this._pageViewLogged=!1;let{sdkKey:g,errorBoundary:h,values:_}=e.getContext();this._disabledEvents=null!==(r=null===(i=null==_?void 0:_.auto_capture_settings)||void 0===i?void 0:i.disabled_events)&&void 0!==r?r:{},this._errorBoundary=h,this._errorBoundary.wrap(this,"autoCapture:"),this._client.$on("values_updated",()=>{var e,t;let i=this._client.getContext().values;this._disabledEvents=null!==(t=null===(e=null==i?void 0:i.auto_capture_settings)||void 0===e?void 0:e.disabled_events)&&void 0!==t?t:this._disabledEvents}),this._engagementManager=new a.EngagementManager,this._rageClickManager=new l.default,this._webVitalsManager=new u.WebVitalsManager(this._enqueueAutoCapture.bind(this),h),this._deadClickManager=new o.default(this._enqueueAutoCapture.bind(this),h),this._consoleLogManager=new s.ConsoleLogManager(this._enqueueAutoCapture.bind(this),h,null!==(c=null==t?void 0:t.consoleLogAutoCaptureSettings)&&void 0!==c?c:{enabled:!1}),this._eventFilterFunc=null==t?void 0:t.eventFilterFunc;let f=(0,n._getDocumentSafe)();if(!(0,n._isServerEnv)()){__STATSIG__=(0,n._getStatsigGlobal)();let p=null!==(d=__STATSIG__.acInstances)&&void 0!==d?d:{};p[g]=this,__STATSIG__.acInstances=p}if((null==f?void 0:f.readyState)==="loading"){f.addEventListener("DOMContentLoaded",()=>this._initialize());return}this._initialize()}_addEventHandlers(){let e=(0,n._getWindowSafe)(),t=(0,n._getDocumentSafe)();if(!e||!t)return;let i=(e,t=!0)=>{var i;let r=e||(null===(i=(0,n._getWindowSafe)())||void 0===i?void 0:i.event);if(this._autoLogEvent(r),t&&this._engagementManager.bumpInactiveTimer(),"click"===r.type&&r instanceof MouseEvent){let s=this._rageClickManager.isRageClick(r.clientX,r.clientY,Date.now());s&&this._logRageClick(r)}};(0,c._registerEventHandler)(t,"click",e=>i(e)),(0,c._registerEventHandler)(t,"submit",e=>i(e)),(0,c._registerEventHandler)(t,"copy",e=>i(e)),(0,c._registerEventHandler)(t,"cut",e=>i(e)),(0,c._registerEventHandler)(e,"error",e=>i(e,!1)),(0,c._registerEventHandler)(e,"pagehide",()=>this._tryLogPageViewEnd()),(0,c._registerEventHandler)(e,"beforeunload",()=>this._tryLogPageViewEnd())}_addPageViewTracking(){let e=(0,n._getWindowSafe)(),t=(0,n._getDocumentSafe)();e&&t&&((0,c._registerEventHandler)(e,"popstate",()=>this._tryLogPageView()),window.history.pushState=new Proxy(window.history.pushState,{apply:(e,t,[i,n,r])=>{e.apply(t,[i,n,r]),this._tryLogPageView()}}),window.history.replaceState=new Proxy(window.history.replaceState,{apply:(e,t,[i,n,r])=>{e.apply(t,[i,n,r]),this._tryLogPageView()}}),this._tryLogPageView())}_autoLogEvent(e){var t,i,s;let o=null===(t=e.type)||void 0===t?void 0:t.toLowerCase();if("error"===o&&e instanceof ErrorEvent){this._logError(e);return}let a=(0,c._getTargetNode)(e);if(!a)return;let l=h[o];if(!l)return;let u=l===r.AutoCaptureEventName.COPY;if(!(0,c._shouldLogEvent)(e,a,u))return;let _={};if(u){let f=null===(s=null===(i=(0,n._getWindowSafe)())||void 0===i?void 0:i.getSelection())||void 0===s?void 0:s.toString();if(!f)return;_.selectedText=(0,c._sanitizeString)(f);let p=e.type||"clipboard";_.clipType=p}let{value:v,metadata:m}=(0,d._gatherEventData)(a);Object.assign(_,m);let y=(0,g._gatherAllMetadata)((0,c._getSafeUrl)());this._enqueueAutoCapture(l,v,Object.assign(Object.assign({},y),_))}_initialize(){this._webVitalsManager.startTracking(),this._deadClickManager.startTracking(),this._consoleLogManager.startTracking(),this._engagementManager.startInactivityTracking(()=>this._tryLogPageViewEnd(!0)),this._addEventHandlers(),this._addPageViewTracking(),this._logSessionStart(),this._logPerformance()}_logError(e){let t=(null==e?void 0:e.error)||{},i=t;if("object"==typeof t)try{i=JSON.stringify(t)}catch(n){i="function"==typeof(null==t?void 0:t.toString)?t.toString():"Unknown Error"}this._enqueueAutoCapture(r.AutoCaptureEventName.ERROR,e.message,{message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error_str:i})}_logSessionStart(){let e=this._getSessionFromClient();try{if(!this._isNewSession(e))return;this._enqueueAutoCapture(r.AutoCaptureEventName.SESSION_START,(0,c._getSanitizedPageUrl)(),Object.assign({sessionID:e.data.sessionID},(0,g._gatherAllMetadata)((0,c._getSafeUrl)())),{flushImmediately:!0})}catch(t){this._errorBoundary.logError("AC::logSession",t)}}_tryLogPageView(){let e=(0,c._getSafeUrl)(),t=this._previousLoggedPageViewUrl;if(t&&e.href===t.href)return;this._engagementManager.setLastPageViewTime(Date.now()),this._hasLoggedPageViewEnd=!1;let i=(0,g._gatherAllMetadata)(e);this._previousLoggedPageViewUrl&&(i.last_page_view_url=this._previousLoggedPageViewUrl.href),this._pageViewLogged||(this._updateClientWithPossibleFirstTouchMetadata(),this._pageViewLogged=!0),this._enqueueAutoCapture(r.AutoCaptureEventName.PAGE_VIEW,(0,c._getSanitizedPageUrl)(),i,{flushImmediately:!0,addNewSessionMetadata:!0}),this._previousLoggedPageViewUrl=e,this._engagementManager.bumpInactiveTimer()}_tryLogPageViewEnd(e=!1){if(this._hasLoggedPageViewEnd)return;this._hasLoggedPageViewEnd=!0;let t=this._engagementManager.getScrollMetrics(),i=this._engagementManager.getPageViewLength();this._enqueueAutoCapture(r.AutoCaptureEventName.PAGE_VIEW_END,(0,c._getSanitizedPageUrl)(),Object.assign(Object.assign({},t),{pageViewLength:i,dueToInactivity:e}),{flushImmediately:!0})}_logRageClick(e){if(!(0,c._shouldLogEvent)(e,e.target))return;let{value:t,metadata:i}=(0,d._gatherEventData)(e.target);this._enqueueAutoCapture(r.AutoCaptureEventName.RAGE_CLICK,t,Object.assign(Object.assign({x:e.clientX,y:e.clientY,timestamp:Date.now()},(0,g._gatherAllMetadata)((0,c._getSafeUrl)())),i))}_logPerformance(){let e=(0,n._getWindowSafe)();e&&e.performance&&void 0!==(null==e?void 0:e.performance)&&"function"==typeof e.performance.getEntriesByType&&"function"==typeof e.performance.getEntriesByName&&setTimeout(()=>{let t={},i=e.performance.getEntriesByType("navigation");if(i&&i.length>0&&i[0]instanceof PerformanceNavigationTiming){let n=i[0];t.load_time_ms=n.duration,t.dom_interactive_time_ms=n.domInteractive-n.startTime,t.redirect_count=n.redirectCount,t.transfer_bytes=n.transferSize}let s=e.performance.getEntriesByName("first-contentful-paint");s&&s.length>0&&s[0]instanceof PerformancePaintTiming&&(t.first_contentful_paint_time_ms=s[0].startTime),this._enqueueAutoCapture(r.AutoCaptureEventName.PERFORMANCE,(0,c._getSanitizedPageUrl)(),Object.assign(Object.assign({},t),(0,g._getNetworkInfo)()))},1)}_enqueueAutoCapture(e,t,i,r){var s,o,a;if(!t)return;let l=e.slice(14);if(this._disabledEvents[e]||this._disabledEvents[l])return;let u=this._getSessionFromClient();try{let c=Object.assign({sessionID:u.data.sessionID,page_url:null!==(a=null===(o=null===(s=(0,n._getWindowSafe)())||void 0===s?void 0:s.location)||void 0===o?void 0:o.href)&&void 0!==a?a:""},i);(null==r?void 0:r.addNewSessionMetadata)&&(c.isNewSession=String(this._isNewSession(u)));let d={eventName:e,value:t,metadata:c};if(this._eventFilterFunc&&!this._eventFilterFunc(d))return;this._client.logEvent(d),(null==r?void 0:r.flushImmediately)&&this._flushImmediately()}catch(g){this._errorBoundary.logError("AC::enqueue",g)}}_updateClientWithPossibleFirstTouchMetadata(){let e=this._client;e._possibleFirstTouchMetadata=(0,g._getPossibleFirstTouchMetadata)((0,c._getSafeUrl)()),Object.keys(e._possibleFirstTouchMetadata).length>0&&(e._user=Object.assign(Object.assign({},e._user),{analyticsOnlyMetadata:Object.assign(Object.assign({},e._possibleFirstTouchMetadata),e._user.analyticsOnlyMetadata)}))}_flushImmediately(){this._client.flush().catch(e=>{n.Log.error(e)})}_isNewSession(e){return 1e3>Math.abs(e.data.startTime-Date.now())}_getSessionFromClient(){return this._client.getContext().session}static getAllMetadata(){return(0,g._gatherAllMetadata)((0,c._getSafeUrl)())}}t.AutoCapture=f},35473:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoCaptureEventName=void 0,t.AutoCaptureEventName={PAGE_VIEW:"auto_capture::page_view",PAGE_VIEW_END:"auto_capture::page_view_end",ERROR:"auto_capture::error",SESSION_START:"auto_capture::session_start",PERFORMANCE:"auto_capture::performance",FORM_SUBMIT:"auto_capture::form_submit",CLICK:"auto_capture::click",RAGE_CLICK:"auto_capture::rage_click",WEB_VITALS:"auto_capture::web_vitals",DEAD_CLICK:"auto_capture::dead_click",COPY:"auto_capture::copy",CONSOLE_LOG:"statsig::log_line"}},2824:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLogManager=void 0;let n=i(13328),r=i(35473),s=i(12185),o=i(50614),a={trace:10,debug:20,log:30,info:30,warn:40,error:50};t.ConsoleLogManager=class{constructor(e,t,i){var n;this._enqueueFn=e,this._errorBoundary=t,this._options=i,this._restoreFns=[],this._isTracking=!1,this._logLevel="info",this.__source="js-auto-capture",this._logLevel=null!==(n=this._options.logLevel)&&void 0!==n?n:"info"}startTracking(){try{if(this._isTracking||!this._options.enabled)return;let e=(0,n._getWindowSafe)();if(!e)return;this._patchConsole(),this._isTracking=!0}catch(t){n.Log.error("Error starting console log tracking",t),this._errorBoundary.logError("autoCapture:ConsoleLogManager",t)}}stopTracking(){this._isTracking&&(this._restoreFns.forEach(e=>e()),this._restoreFns=[],this._isTracking=!1)}_patchConsole(){Object.entries(a).forEach(([e,t])=>{if(t<a[this._logLevel]||!console[e])return;let i=console[e].bind(console),n=!1,r=(0,s.wrapFunctionWithRestore)(console,e,t=>(...r)=>{if(t(...r),!n){n=!0;try{let s=r.map(e=>this._safeStringify(e)),o=this._getStackTrace();this._enqueueConsoleLog(e,s,o)}catch(a){i("console observer error:",a,...r),this._errorBoundary.logError("autoCapture:ConsoleLogManager",a)}finally{n=!1}}});this._restoreFns.push(r)})}_enqueueConsoleLog(e,t,i){if(!this._shouldLog())return;let n=Object.assign({status:"log"===e?"info":e,log_level:e,payload:t,trace:i,timestamp:Date.now(),source:this.__source},(0,o._gatherAllMetadata)((0,s._getSafeUrl)()));this._enqueueFn(r.AutoCaptureEventName.CONSOLE_LOG,t.join(" "),n)}_shouldLog(){return!this._options.sampleRate||"number"!=typeof this._options.sampleRate||this._options.sampleRate<=0||this._options.sampleRate>=1||Math.random()<this._options.sampleRate}_safeStringify(e){try{if("string"==typeof e)return e;if("object"==typeof e&&null!==e)return JSON.stringify(e);return String(e)}catch(t){return"[Unserializable]"}}_getStackTrace(){var e,t;try{return null!==(t=null===(e=Error().stack)||void 0===e?void 0:e.split("\n").slice(2))&&void 0!==t?t:[]}catch(i){return[]}}}},39896:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeadClickConfig=void 0;let n=i(13328),r=i(35473),s=i(12185),o=i(93683),a=i(50614);t.DeadClickConfig={CLICK_CHECK_TIMEOUT:1e3,SCROLL_DELAY_MS:100,SELECTION_CHANGE_DELAY_MS:100,MUTATION_DELAY_MS:2500,ABSOLUTE_DEAD_CLICK_TIMEOUT:2750},t.default=class{constructor(e,i){this._enqueueFn=e,this._errorBoundary=i,this._lastMutationTime=0,this._lastSelectionChangeTime=0,this._clicks=[],this._deadClickConfig=t.DeadClickConfig,this._handleScroll=(0,s.throttle)(()=>{let e=Date.now();this._clicks.forEach(t=>{t.scrollDelayMs||(t.scrollDelayMs=e-t.timestamp)})},50)}startTracking(){try{let e=(0,n._getWindowSafe)();if(!e)return;e.addEventListener("click",e=>this._handleClick(e),{capture:!0}),e.addEventListener("scroll",()=>this._handleScroll(),{capture:!0,passive:!0}),e.addEventListener("selectionchange",()=>this._handleSelectionChange()),this._setupMutationObserver()}catch(t){n.Log.error("Error starting dead click tracking",t),this._errorBoundary.logError("autoCapture:DeadClickManager",t)}}_handleClick(e){var t,i;let r=e.target;if(!r)return;let o={timestamp:Date.now(),eventTarget:r};s.interactiveElements.includes(null===(t=null==r?void 0:r.tagName)||void 0===t?void 0:t.toLowerCase())||this._clicks.push(o),this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=null===(i=(0,n._getWindowSafe)())||void 0===i?void 0:i.setTimeout(()=>{this._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}_handleSelectionChange(){this._lastSelectionChangeTime=Date.now()}_setupMutationObserver(){let e=(0,n._getDocumentSafe)();e&&(this._observer=new MutationObserver(()=>{this._lastMutationTime=Date.now()}),this._observer.observe(e.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0}))}_checkForDeadClick(){var e;if(!this._clicks.length)return;clearTimeout(this._clickCheckTimer),this._clickCheckTimer=void 0;let t=this._clicks;for(let i of(this._clicks=[],t)){this._updateClickDelayMs(i);let r=null!=i.scrollDelayMs&&i.scrollDelayMs<this._deadClickConfig.SCROLL_DELAY_MS,s=null!=i.selectionChangeDelayMs&&i.selectionChangeDelayMs<this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,o=null!=i.mutationDelayMs&&i.mutationDelayMs<this._deadClickConfig.MUTATION_DELAY_MS;if(r||s||o)continue;let a=null!=i.scrollDelayMs&&i.scrollDelayMs>this._deadClickConfig.SCROLL_DELAY_MS,l=null!=i.selectionChangeDelayMs&&i.selectionChangeDelayMs>this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,u=null!=i.mutationDelayMs&&i.mutationDelayMs>this._deadClickConfig.MUTATION_DELAY_MS,c=null!=i.absoluteDelayMs&&i.absoluteDelayMs>this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT;a||l||u||c?this._logDeadClick(i,{scrollTimeout:a,selectionChangeTimeout:l,mutationTimeout:u,absoluteTimeout:c}):null!=i.absoluteDelayMs&&i.absoluteDelayMs<this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT&&this._clicks.push(i)}this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=null===(e=(0,n._getWindowSafe)())||void 0===e?void 0:e.setTimeout(()=>{this._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}_logDeadClick(e,t){let{value:i,metadata:n}=(0,o._gatherEventData)(e.eventTarget);i&&this._enqueueFn(r.AutoCaptureEventName.DEAD_CLICK,i,Object.assign(Object.assign(Object.assign(Object.assign({},n),t),(0,a._gatherCommonMetadata)((0,s._getSafeUrl)())),{scrollDelayMs:e.scrollDelayMs,selectionChangeDelayMs:e.selectionChangeDelayMs,mutationDelayMs:e.mutationDelayMs,absoluteDelayMs:e.absoluteDelayMs}))}_updateClickDelayMs(e){!e.mutationDelayMs&&this._lastMutationTime>0&&e.timestamp<=this._lastMutationTime&&(e.mutationDelayMs=Date.now()-this._lastMutationTime),!e.selectionChangeDelayMs&&this._lastSelectionChangeTime>0&&e.timestamp<=this._lastSelectionChangeTime&&(e.selectionChangeDelayMs=Date.now()-this._lastSelectionChangeTime),e.absoluteDelayMs=Date.now()-e.timestamp}}},63480:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EngagementManager=void 0;let n=i(13328);t.EngagementManager=class{constructor(){this._lastScrollY=0,this._maxScrollY=0,this._lastScrollPercentage=0,this._maxScrollPercentage=0,this._lastPageViewTime=Date.now(),this._inactiveTimer=null,this._onInactivityCallback=null,this._initializeScrollTracking()}_initializeScrollTracking(){let e=(0,n._getWindowSafe)();e&&(e.addEventListener("scroll",()=>this._handleScroll()),e.addEventListener("scrollend",()=>this._handleScroll()),e.addEventListener("resize",()=>this._handleScroll()))}_handleScroll(){let e=(0,n._getWindowSafe)(),t=(0,n._getDocumentSafe)();if(!e||!t)return;let i=t.body.scrollHeight,r=e.scrollY||t.documentElement.scrollTop||0,s=e.innerHeight;this._lastScrollY=r,this._maxScrollY=Math.max(this._maxScrollY,r);let o=Math.min(100,Math.round((r+s)/i*100));this._lastScrollPercentage=o,this._maxScrollPercentage=Math.max(this._maxScrollPercentage,o),this.bumpInactiveTimer()}getScrollMetrics(){return{lastScrollY:this._lastScrollY,maxScrollY:this._maxScrollY,lastScrollPercentage:this._lastScrollPercentage,maxScrollPercentage:this._maxScrollPercentage,scrollDepth:this._maxScrollPercentage}}getPageViewLength(){return Date.now()-this._lastPageViewTime}setLastPageViewTime(e){this._lastPageViewTime=e}startInactivityTracking(e){this._onInactivityCallback=e}bumpInactiveTimer(){let e=(0,n._getWindowSafe)();e&&(this._inactiveTimer&&clearTimeout(this._inactiveTimer),this._inactiveTimer=e.setTimeout(()=>{this._onInactivityCallback&&this._onInactivityCallback()},6e5))}}},50442:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this._clicks=[]}isRageClick(e,t,i){return this._clicks=this._clicks.filter(e=>i-e.timestamp<1e3),this._clicks.length>0&&!(i=>{let n=e-i.x,r=t-i.y;return Math.abs(n)+Math.abs(r)<=30})(this._clicks[this._clicks.length-1])&&(this._clicks=[]),this._clicks.push({x:e,y:t,timestamp:i}),this._clicks.length>=3}}},78325:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebVitalsManager=void 0;let n=i(4233),r=i(13328),s=i(35473),o=i(12185),a=["CLS","FCP","LCP","TTFB"];t.WebVitalsManager=class{constructor(e,t){this._enqueueFn=e,this._errorBoundary=t,this._isInitialized=!1,this._metricEvent={url:(0,o._getSafeUrlString)(),sanitizedUrl:(0,o._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}startTracking(){var e,t;try{if(this._isInitialized)return;let i=null===(t=null===(e=(0,r._getWindowSafe)())||void 0===e?void 0:e.location)||void 0===t?void 0:t.protocol;if("https:"!==i&&"http:"!==i)return;(0,n.onCLS)(e=>this._handleMetric(e)),(0,n.onFCP)(e=>this._handleMetric(e)),(0,n.onLCP)(e=>this._handleMetric(e)),(0,n.onTTFB)(e=>this._handleMetric(e)),this._isInitialized=!0}catch(s){r.Log.error("Error starting web vitals tracking",s),this._errorBoundary.logError("autoCapture:WebVitalsManager",s)}}_handleMetric(e){if(void 0===this._metricEvent.firstMetricTimestamp&&(this._metricEvent.firstMetricTimestamp=Date.now()),void 0===e||(null==e?void 0:e.name)===void 0)return;let t=(0,o._getSafeUrlString)();""!==t&&a.includes(e.name)&&(t!==this._metricEvent.url&&(this._enqueueWebVitalsAutoCaptureEvent(),this._metricEvent.url=t),this._metricEvent.metrics.push({name:e.name,value:e.value,delta:e.delta,id:e.id}),this._metricEvent.metrics.length===a.length&&this._enqueueWebVitalsAutoCaptureEvent())}_enqueueWebVitalsAutoCaptureEvent(){if(""===this._metricEvent.url||0===this._metricEvent.metrics.length)return;let e={};this._metricEvent.metrics.forEach(t=>{let i=t.name.toLowerCase();e[`${i}_value`]=t.value,e[`${i}_delta`]=t.delta,e[`${i}_id`]=t.id}),this._enqueueFn(s.AutoCaptureEventName.WEB_VITALS,this._metricEvent.sanitizedUrl,Object.assign(Object.assign({},e),{first_metric_timestamp:this._metricEvent.firstMetricTimestamp})),this._metricEvent={url:(0,o._getSafeUrlString)(),sanitizedUrl:(0,o._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}}},12566:function(e,t,i){"use strict";t.Hq=void 0;let n=i(13328),r=i(69023);Object.defineProperty(t,"Hq",{enumerable:!0,get:function(){return r.StatsigAutoCapturePlugin}}),i(35473),Object.assign((0,n._getStatsigGlobal)(),{AutoCapture:r.AutoCapture,runStatsigAutoCapture:r.runStatsigAutoCapture,StatsigAutoCapturePlugin:r.StatsigAutoCapturePlugin})},12185:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapFunctionWithRestore=t.throttle=t._sanitizeString=t._getAnchorNodeInHierarchy=t._getSafeTimezoneOffset=t._getSafeTimezone=t._getSafeNetworkInformation=t._registerEventHandler=t._getSanitizedPageUrl=t._getSafeUrlString=t._getSafeUrl=t._shouldLogEvent=t._getTargetNode=t._stripEmptyValues=t.interactiveElements=void 0;let n=i(13328),r=RegExp("^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$"),s=RegExp("^(\\d{3}-?\\d{2}-?\\d{4})$");function o(){var e,t,i;let r;let s=null!==(i=null===(t=null===(e=(0,n._getWindowSafe)())||void 0===e?void 0:e.location)||void 0===t?void 0:t.href)&&void 0!==i?i:"";try{r=new URL(s)}catch(o){r=new URL("error:")}return r}function a(e){if(!e)return null;let t=e;for(;t;){let i=t.tagName.toLowerCase();if(["body","document"].includes(i))break;if("a"===t.tagName.toLowerCase())return t;t=t.parentElement}return null}t.interactiveElements=["button","a","input","select","textarea","form","select","label"],t._stripEmptyValues=function(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>null!=t&&""!==t&&void 0!==t))},t._getTargetNode=function(e){if(!e)return null;let t=e.target||e.srcElement;return t&&t instanceof Element?(3===t.nodeType&&(t=t.parentNode||null),t):null},t._shouldLogEvent=function(e,i,n=!1){if(!e||!i||1!==i.nodeType)return!1;let r=i.tagName.toLowerCase(),s=e.type.toLowerCase(),o=i.classList;if(o.contains("statsig-no-capture"))return!1;if(n)return!0;switch(r){case"html":return!1;case"form":return["submit"].indexOf(s)>=0;case"input":case"select":case"textarea":return["change","click"].indexOf(s)>=0;default:if("click"===s){let l=window.getComputedStyle(i);if(l&&"pointer"===l.getPropertyValue("cursor")||t.interactiveElements.includes(r)||"true"===i.getAttribute("contenteditable"))return!0;let u=a(i);if(u)return!0}return!1}},t._getSafeUrl=o,t._getSafeUrlString=function(){let e=o().toString();return e.startsWith("error:")?"":e},t._getSanitizedPageUrl=function(){return(0,n._getCurrentPageUrlSafe)()||""},t._registerEventHandler=function(e,t,i){e&&e.addEventListener&&e.addEventListener(t,i,!0)},t._getSafeNetworkInformation=function(){let e=(0,n._getWindowSafe)();if(!e||!e.navigator)return null;let t=e.navigator.connection;return t||null},t._getSafeTimezone=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return null}},t._getSafeTimezoneOffset=function(){try{return new Date().getTimezoneOffset()}catch(e){return null}},t._getAnchorNodeInHierarchy=a,t._sanitizeString=function(e){return e?e.replace(/<[^>]*>/g,"").trim().split(/(\s+)/).filter(e=>!(r.test((e||"").replace(/[- ]/g,""))||s.test((e||"").replace(/[- ]/g,"")))).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255):null},t.throttle=function(e,t){let i=0;return function(...n){let r=Date.now();r-i>=t&&(i=r,e(...n))}},t.wrapFunctionWithRestore=function(e,t,i){let n=e[t];if("function"!=typeof n)return()=>{};try{let r=i(n);return Object.defineProperty(r,"__statsig_original__",{enumerable:!1,value:n}),e[t]=r,()=>{e[t]=n}}catch(s){return()=>{}}}},93683:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getMetadataFromElement=t._gatherCopyEventData=t._gatherEventData=void 0;let n=i(13328),r=i(12185);function s(e,t){return e?e.length>t?e.substring(0,t)+"...":e:null}function o(e){let t={};return t.class=(s(e.getAttribute("class"),1e3)||"").replace(/\s+/g," ").trim(),t.id=s(e.getAttribute("id"),1e3),t.ariaLabel=s(e.getAttribute("aria-label"),1e3),t.name=s(e.getAttribute("name"),1e3),t}function a(e){let t={},i=o(e);Object.assign(t,i);let n=Array.from(e.classList);return t.classList=n.length>0?n.slice(0,100):null,t.selector=function(e){if(!e)return"";if(!e.parentNode){let t=e.tagName.toLowerCase();if(e.id)return`#${e.id}`;let i=t;if(e.className&&"string"==typeof e.className){let n=e.className.trim().split(/\s+/);n.length>0&&""!==n[0]&&(i+="."+n.join("."))}return i}let r=[],s=e,o=0;for(;s&&s.nodeType===Node.ELEMENT_NODE&&o<50;){let a=function(e){let t=e.tagName.toLowerCase();if(e.id)return`#${e.id}`;let i=t;if(e.className&&"string"==typeof e.className){let n=e.className.trim().split(/\s+/);n.length>0&&""!==n[0]&&(i+="."+n.join("."))}let r=e.parentElement;if(r&&r.children.length>1){let s=1,o=1,a=e.previousElementSibling;for(;a;)s++,a.tagName===e.tagName&&o++,a=a.previousElementSibling;i+=`:nth-child(${s})`,(o>1||function(e){let t=e.nextElementSibling;for(;t;){if(t.tagName===e.tagName)return!0;t=t.nextElementSibling}return!1}(e))&&(i+=`:nth-of-type(${o})`)}return i}(s);if(r.unshift(a),s.id||(s=s.parentElement)&&"body"===s.tagName.toLowerCase())break;o++}return r.join(" > ")}(e),t}t._gatherEventData=function(e){let t=(0,r._getSanitizedPageUrl)()||"",i=e.tagName.toLowerCase();if("input"===e.tagName.toLowerCase()&&["button","checkbox","submit","reset"].includes(e.getAttribute("type")||"")||"textarea"===e.tagName.toLowerCase()||"select"===e.tagName.toLowerCase()||"true"===e.getAttribute("contenteditable"))return{value:t,metadata:o(e)};let n={};n.tagName=i;let s=a(e);Object.assign(n,s),"form"===i&&Object.assign(n,function(e){var t;let i={};return i.action=e.getAttribute("action"),i.method=null!==(t=e.getAttribute("method"))&&void 0!==t?t:"GET",i.formName=e.getAttribute("name"),i.formId=e.getAttribute("id"),i}(e)),"input"===i&&Object.assign(n,function(e){let t={};return t.content=e.value,t.inputName=e.getAttribute("name"),t}(e));let l=(0,r._getAnchorNodeInHierarchy)(e);return l&&Object.assign(n,function(e){let t={};return t.href=e.getAttribute("href"),t}(l)),("button"===i||l)&&Object.assign(n,function(e){let t={};t.content=(e.textContent||"").trim();let i=function(e){let t={};if(!e)return t;let i=null==e?void 0:e.dataset;if(!i)return t;for(let n in i)t[`data-${n}`]=i[n]||"";return t}(e);return Object.assign(t,i),t}(l||e)),{value:t,metadata:n}},t._gatherCopyEventData=function(e){var t,i;let s=null===(i=null===(t=(0,n._getWindowSafe)())||void 0===t?void 0:t.getSelection())||void 0===i?void 0:i.toString(),o={};o.selectedText=(0,r._sanitizeString)(s);let a=e.type||"clipboard";return o.clipType=a,o},t._getMetadataFromElement=a},50614:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getPossibleFirstTouchMetadata=t._getNetworkInfo=t._gatherAllMetadata=t._gatherCommonMetadata=void 0;let n=i(13328),r=i(12185);function s(e){var t,i,s,a,l,u,c,d;let g=(0,n._getDocumentSafe)(),h=(0,n._getWindowSafe)();return(0,r._stripEmptyValues)(Object.assign({title:null==g?void 0:g.title,current_url:null===(t=null==h?void 0:h.location)||void 0===t?void 0:t.href,user_agent:(null===(i=null==h?void 0:h.navigator)||void 0===i?void 0:i.userAgent)&&(null===(a=null===(s=null==h?void 0:h.navigator)||void 0===s?void 0:s.userAgent)||void 0===a?void 0:a.length)>200?h.navigator.userAgent.substring(0,200):null===(l=null==h?void 0:h.navigator)||void 0===l?void 0:l.userAgent,locale:null===(u=null==h?void 0:h.navigator)||void 0===u?void 0:u.language,hostname:e.hostname,pathname:e.pathname,screen_width:null===(c=null==h?void 0:h.screen)||void 0===c?void 0:c.width,screen_height:null===(d=null==h?void 0:h.screen)||void 0===d?void 0:d.height,viewport_width:null==h?void 0:h.innerWidth,viewport_height:null==h?void 0:h.innerHeight,viewport:`${null==h?void 0:h.innerWidth}x${null==h?void 0:h.innerHeight}`,timestamp:Date.now(),timezone:(0,r._getSafeTimezone)(),timezone_offset:(0,r._getSafeTimezoneOffset)()},o()))}function o(){let e=(0,r._getSafeNetworkInformation)(),t={};return(null==e?void 0:e.effectiveType)!==void 0&&(t.effective_connection_type=e.effectiveType),(null==e?void 0:e.rtt)!==void 0&&(t.rtt_ms=e.rtt),(null==e?void 0:e.downlink)!==void 0&&(t.downlink_mbps=e.downlink,t.downlink_kbps=1e3*e.downlink),(null==e?void 0:e.saveData)!==void 0&&(t.save_data=e.saveData),t}function a(e){let t=(null==e?void 0:e.referrer)||"";if(!t)return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""};try{let i=new URL(t),n=i.hostname,r=["google","bing","yahoo","duckduckgo","baidu"].find(e=>n.includes(e+"."))||"",s=i.searchParams.get("yahoo"===r?"p":"q")||"";return{referrer:t,referrer_domain:i.hostname,referrer_path:i.pathname,searchEngine:r,searchQuery:s}}catch(o){return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""}}}function l(e){let t=e.searchParams,i={};return["utm_source","utm_medium","utm_campaign","utm_term","utm_content","msclkid","dclid","fbclid","gad_source","gclid","gclsrc","wbraid","utm_id","irclid","igshid","_kx","li_fat_id","mc_cid","mc_eid","epik","qclid","rdt_cid","sccid","ttc","ttclid","ttc_id","twclid"].forEach(e=>{let n=t.get(e);n&&(i[e]=n)}),i}t._gatherCommonMetadata=s,t._gatherAllMetadata=function(e){let t=(0,n._getDocumentSafe)(),i=(0,n._getWindowSafe)();if(!t||!i)return{};let o=a(t),u=s(e),c=l(e),d={};return e.searchParams.forEach((e,t)=>{d[t]=e}),Object.assign(Object.assign({},u),(0,r._stripEmptyValues)(Object.assign(Object.assign(Object.assign({},o),c),d)))},t._getNetworkInfo=o,t._getPossibleFirstTouchMetadata=function(e){let t=(0,n._getDocumentSafe)(),i=(0,n._getWindowSafe)();if(!t||!i)return{};let s=a(t),o=l(e),u=(0,r._stripEmptyValues)(Object.assign(Object.assign({},s),o)),c={};for(let[d,g]of Object.entries(u))c[`$s_${d}`]=g;return c}}}]);